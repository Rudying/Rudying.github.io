<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>RudyWei&#39;s</title>
  
  <subtitle>Personal Blog</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://theme-next.org/"/>
  <updated>2019-08-10T08:22:32.372Z</updated>
  <id>https://theme-next.org/</id>
  
  <author>
    <name>RudyWei</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Java补充</title>
    <link href="https://theme-next.org/Java%E8%A1%A5%E5%85%85/"/>
    <id>https://theme-next.org/Java补充/</id>
    <published>2019-08-10T08:22:32.000Z</published>
    <updated>2019-08-10T08:22:32.372Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Javase思维导图</title>
    <link href="https://theme-next.org/Javase%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/"/>
    <id>https://theme-next.org/Javase思维导图/</id>
    <published>2019-08-10T07:38:23.000Z</published>
    <updated>2019-08-10T08:16:52.022Z</updated>
    
    <content type="html"><![CDATA[<p>A</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;A&lt;/p&gt;

      
    
    </summary>
    
      <category term="javase" scheme="https://theme-next.org/categories/javase/"/>
    
    
      <category term="javase" scheme="https://theme-next.org/tags/javase/"/>
    
  </entry>
  
  <entry>
    <title>JavaIO流</title>
    <link href="https://theme-next.org/JavaIO%E6%B5%81/"/>
    <id>https://theme-next.org/JavaIO流/</id>
    <published>2019-08-10T07:37:50.000Z</published>
    <updated>2019-08-10T07:45:48.891Z</updated>
    
    <content type="html"><![CDATA[<h1 id="I-O流"><a href="#I-O流" class="headerlink" title="I/O流"></a>I/O流</h1><h1 id="1、File类的使用"><a href="#1、File类的使用" class="headerlink" title="1、File类的使用"></a>1、File类的使用</h1><ul><li>java.io.File类：文件或文件夹的抽象表示形式，与平台无关。</li><li>File能新建，删除、重命名文件和目录，但不能访问文件本身。如果需要访问文件内容，则需要输入/输出流</li><li>File对象可以作为参数传递给IO流的构造器</li><li>File对象可以不对应真实存在的文件或文件夹</li></ul><p>File的构造器：</p><table><thead><tr><th>构造器</th><th>描述</th></tr></thead><tbody><tr><td><strong>File</strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html" target="_blank" rel="noopener">String</a> pathname)</td><td>根据路径获取File对象</td></tr><tr><td><strong>File</strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html" target="_blank" rel="noopener">String</a> parent, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html" target="_blank" rel="noopener">String</a> child)</td><td></td></tr><tr><td><strong>File</strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html" target="_blank" rel="noopener">File</a> parent, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html" target="_blank" rel="noopener">String</a> child)</td><td></td></tr></tbody></table><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">File f1 = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>); <span class="comment">//相对路径，以当前的文件所在的工程为相对路径的起点</span></span><br><span class="line">f1 = <span class="keyword">new</span> File(<span class="string">"E:\\workspace\\java_io\\hello.txt"</span>); <span class="comment">//绝对路径</span></span><br><span class="line">System.out.println(f1);<span class="comment">//hello.txt</span></span><br><span class="line">System.out.println(f1.exists()); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//构造器2 \表示转义符</span></span><br><span class="line">File f2 = <span class="keyword">new</span> File(<span class="string">"E:\\workspace\\java_io"</span>,<span class="string">"hello.txt"</span>);</span><br><span class="line">System.out.println(f2.exists());<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//构造器3</span></span><br><span class="line">File f3 = <span class="keyword">new</span> File(<span class="keyword">new</span> File(<span class="string">"E:\\workspace\\java_io"</span>),<span class="string">"hello2.txt"</span>);</span><br><span class="line">System.out.println(f3.exists()); <span class="comment">//false</span></span><br></pre></td></tr></table></figure><p>常用方法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">File f1 = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line">File f2 = <span class="keyword">new</span> File(<span class="string">"java\\javaee\\hello.txt"</span>);</span><br><span class="line">System.out.println(f1.getAbsolutePath()); <span class="comment">//获取完整的路径</span></span><br><span class="line">System.out.println(f1.getPath()); <span class="comment">//相对路径</span></span><br><span class="line">System.out.println(f1.getParent()); <span class="comment">//上级路径</span></span><br><span class="line">System.out.println(f1.length()); <span class="comment">//文件的字节数</span></span><br><span class="line">System.out.println(<span class="keyword">new</span> Date(f1.lastModified())); <span class="comment">//修改时间</span></span><br><span class="line">System.out.println(<span class="string">"---------------"</span>);</span><br><span class="line">System.out.println(f2.getAbsolutePath());</span><br><span class="line">System.out.println(f2.getPath());</span><br><span class="line">System.out.println(f2.getParent());</span><br><span class="line">System.out.println(f2.length());</span><br></pre></td></tr></table></figure><p>常用方法2：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">File f = <span class="keyword">new</span> File(<span class="string">"E:\\workspace"</span>);</span><br><span class="line"></span><br><span class="line">String[] list = f.list(); <span class="comment">//遍历当前目录下的所有文件和文件夹</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; list.length; i++) &#123;</span><br><span class="line">    String fileName = list[i];</span><br><span class="line">    System.out.println(fileName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">"-------------"</span>);</span><br><span class="line"></span><br><span class="line">File[] listFiles = f.listFiles();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; listFiles.length; i++) &#123;</span><br><span class="line">    File file = listFiles[i];</span><br><span class="line">    System.out.println(file);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2、IO流的原理和使用"><a href="#2、IO流的原理和使用" class="headerlink" title="2、IO流的原理和使用"></a>2、IO流的原理和使用</h1><ul><li>I/O是Input/Output的缩写，用于处理设备之间的数据传输，如：读/写文件, 网络通信。</li><li>java.io包下提供了各种“流”类和接口</li><li>输入(input)：读取外部数据（硬盘、网络等外部存储设备）到程序（内存）中（读）</li><li>输出（output）：将程序（内存）数据输出到外部存储设备（硬盘、网络等）中（写）</li></ul><h2 id="2-1、流的分类"><a href="#2-1、流的分类" class="headerlink" title="2.1、流的分类"></a>2.1、流的分类</h2><ul><li>我们对IO流一般会从3个维度进行描述<ul><li>根据流的方向：输出、输出</li><li>根据流的大小：字节、字符</li><li>根据流的角色：（功能越来越强大） 节点（文件流）， 处理流</li></ul></li><li>四个抽象基类</li></ul><table><thead><tr><th></th><th>字节流</th><th>字符流</th></tr></thead><tbody><tr><td>输入流</td><td>InputStream</td><td>Read</td></tr><tr><td>输出流</td><td>OutputStream</td><td>Writer</td></tr></tbody></table><p><img src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1564369107749.png" alt="1564369107749"></p><p>流的体系：</p><p><img src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1564369340107.png" alt="1564369340107"></p><p>这些所有的流都是这4个基类的实现类</p><h1 id="3、节点流"><a href="#3、节点流" class="headerlink" title="3、节点流"></a>3、节点流</h1><table><thead><tr><th>文件流</th><th>缓冲流(处理流的一种)</th></tr></thead><tbody><tr><td>FileInputStream</td><td>BufferedInputStream</td></tr><tr><td>FileOutputStream</td><td>BufferedOutputStream</td></tr><tr><td>FileReader</td><td>BufferedReader</td></tr><tr><td>FileWriter</td><td>BufferedWriter</td></tr></tbody></table><p>字符流读文件：</p><p>示例代码：（）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">FileReader reader = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// 1.创建File类对象，指向操作的文件</span></span><br><span class="line">File file = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.创建具体的流,读文本（字符流，输入）</span></span><br><span class="line">reader = <span class="keyword">new</span> FileReader(file);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.读数据 read() : 返回读入的一个字符, 返回-1读取完毕</span></span><br><span class="line"><span class="comment">//int data = reader.read();</span></span><br><span class="line"><span class="comment">//while (data != -1) &#123;</span></span><br><span class="line"><span class="comment">//System.out.println((char) data);</span></span><br><span class="line"><span class="comment">//data = reader.read();</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//方式二:</span></span><br><span class="line"><span class="keyword">int</span> data;</span><br><span class="line"><span class="keyword">while</span>( (data = reader.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">System.out.println((<span class="keyword">char</span>)(data));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line"><span class="comment">// 不能自动回收gc</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (reader != <span class="keyword">null</span>) &#123;</span><br><span class="line">reader.close();</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">FileReader r = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// 1.創建File对象</span></span><br><span class="line">File file = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line"><span class="comment">// 2.创建流</span></span><br><span class="line">r = <span class="keyword">new</span> FileReader(file);</span><br><span class="line"><span class="comment">// 3.读数据</span></span><br><span class="line"><span class="keyword">char</span>[] cs = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">3</span>]; <span class="comment">//缓存的大小</span></span><br><span class="line"><span class="keyword">int</span> len; <span class="comment">//读取的字符数</span></span><br><span class="line"><span class="keyword">while</span> ((len = r.read(cs)) != -<span class="number">1</span>) &#123;</span><br><span class="line"><span class="comment">//错误方式</span></span><br><span class="line"><span class="comment">//for (int i = 0; i &lt; cs.length; i++) &#123;</span></span><br><span class="line"><span class="comment">//System.out.print(cs[i] + " ");</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//正确方式一</span></span><br><span class="line"><span class="comment">//for (int i = 0; i &lt; len; i++) &#123;</span></span><br><span class="line"><span class="comment">//System.out.print(cs[i] + " ");</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//正确方式二</span></span><br><span class="line">String str = <span class="keyword">new</span> String(cs, <span class="number">0</span>, len);</span><br><span class="line">System.out.println(str);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">r.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总结：</p><ul><li>read（）理解：返回读入的一个字符，如果达到末尾，返回-1</li><li>读取的文件一定要存在，否则报异常FileNotFoundException</li><li>为了保证资源合理利用，必须使用try-catch-finally关闭资源</li></ul><p><strong>字符流的写：</strong></p><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建File对象</span></span><br><span class="line">File file = <span class="keyword">new</span> File(<span class="string">"hello2.txt"</span>); <span class="comment">//文本可以不存在</span></span><br><span class="line"><span class="comment">//2.获取字符输出流 默认false：覆盖 ， true：追加</span></span><br><span class="line">FileWriter writer = <span class="keyword">new</span> FileWriter(file);</span><br><span class="line"><span class="comment">//3.写</span></span><br><span class="line">writer.write(<span class="string">"红红的太阳，蓝蓝的天"</span>);</span><br><span class="line">writer.write(<span class="string">"admin"</span>);</span><br><span class="line"><span class="comment">//4.关</span></span><br><span class="line">writer.close();</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建File</span></span><br><span class="line">File srcFile = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line">File destFile = <span class="keyword">new</span> File(<span class="string">"hello3.txt"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//字符流不能读取和写入图片 --- 非文本数据</span></span><br><span class="line"><span class="comment">//File srcFile = new File("123.jpg");</span></span><br><span class="line"><span class="comment">//File destFile = new File("456.jpg");</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建流</span></span><br><span class="line">FileReader re = <span class="keyword">new</span> FileReader(srcFile);</span><br><span class="line">FileWriter wr = <span class="keyword">new</span> FileWriter(destFile);</span><br><span class="line"></span><br><span class="line"><span class="comment">//数据读写操作</span></span><br><span class="line"><span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> len; <span class="comment">//记录每次读取的字符个数</span></span><br><span class="line"><span class="keyword">while</span>((len = re.read(cbuf)) != -<span class="number">1</span>)&#123; <span class="comment">//读取的数据临时保存到cbuf缓存中</span></span><br><span class="line"><span class="comment">//写 --- 每次写len个字符</span></span><br><span class="line">wr.write(cbuf, <span class="number">0</span>, len);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//关闭资源</span></span><br><span class="line"><span class="keyword">if</span>(wr != <span class="keyword">null</span>)&#123;</span><br><span class="line">wr.close();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(re != <span class="keyword">null</span>)&#123;</span><br><span class="line">re.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总结：</p><ul><li>输出操作，对应的File可以不存在，不会报错，会自动生成对应的文件</li><li>FileWriter(file ，false) ： 对原有文件进行覆盖（默认）</li><li>FileWriter(file ，true)：对原有文件进行追加</li></ul><p><strong>字节流读文件</strong></p><p>示例代码：（字符流读取信息）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1造文件</span></span><br><span class="line">File f = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line"><span class="comment">//2造流</span></span><br><span class="line">FileInputStream input = <span class="keyword">new</span> FileInputStream(f);</span><br><span class="line"><span class="comment">//3读文件</span></span><br><span class="line"><span class="keyword">byte</span>[] bs = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">3</span>]; <span class="comment">//缓存字节数</span></span><br><span class="line"><span class="keyword">int</span> len;</span><br><span class="line"> <span class="comment">//返回读取得字节总数，读取的数据放入bs缓存中</span></span><br><span class="line"><span class="keyword">while</span>((len = input.read(bs)) != -<span class="number">1</span>)&#123; <span class="comment">//中文显示默认2个字节保存</span></span><br><span class="line">String str = <span class="keyword">new</span> String(bs, <span class="number">0</span>, len); <span class="comment">//将字节组装为string</span></span><br><span class="line">System.out.println(str);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//关闭资源</span></span><br><span class="line">input.close();</span><br></pre></td></tr></table></figure><p>示例代码：（复制图片）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建File</span></span><br><span class="line">File srcFile = <span class="keyword">new</span> File(<span class="string">"123.jpg"</span>);</span><br><span class="line">File destFile = <span class="keyword">new</span> File(<span class="string">"456.png"</span>);</span><br><span class="line"><span class="comment">//2.创流</span></span><br><span class="line">FileInputStream inputStream = <span class="keyword">new</span> FileInputStream(srcFile);</span><br><span class="line">FileOutputStream outputStream = <span class="keyword">new</span> FileOutputStream(destFile);</span><br><span class="line"><span class="comment">//3读写</span></span><br><span class="line"><span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="keyword">int</span> len;</span><br><span class="line"><span class="keyword">while</span>((len = inputStream.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line"><span class="comment">//写</span></span><br><span class="line">outputStream.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//4.关</span></span><br><span class="line">inputStream.close();</span><br><span class="line">outputStream.close();</span><br></pre></td></tr></table></figure><p>总结：</p><ul><li>文本文件（.txt, java,c.cpp等），使用字符流处理</li><li>非文本文件：使用字节流处理 （图片，视频...）</li></ul><h1 id="4、缓存流"><a href="#4、缓存流" class="headerlink" title="4、缓存流"></a>4、缓存流</h1><ul><li>为了提高数据的读取效率，javaAPI提供了带缓冲功能的流，在使用这些流类时，会创建一个内部缓冲区数组，缺省使用8192个字符（8kb）缓存区</li></ul><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建File类</span></span><br><span class="line"><span class="comment">//File f = new File("123.jpg");</span></span><br><span class="line"><span class="comment">//File f2 = new File("789.jpg");</span></span><br><span class="line"><span class="comment">////2.造流</span></span><br><span class="line"><span class="comment">//FileInputStream input = new FileInputStream(f);</span></span><br><span class="line"><span class="comment">//FileOutputStream out = new FileOutputStream(f2);</span></span><br><span class="line"><span class="comment">//3.包装 --- 可以嵌套</span></span><br><span class="line">BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="keyword">new</span> File(<span class="string">"123.jpg"</span>)));</span><br><span class="line">BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(<span class="string">"789.jpg"</span>)));</span><br><span class="line"><span class="comment">//4.操作 --- 读写</span></span><br><span class="line"><span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> len;</span><br><span class="line"><span class="keyword">while</span>(( len = bis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">bos.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//5关 --- 先关外部的包装类, 内部的也会关联关闭</span></span><br><span class="line">bis.close();</span><br><span class="line">bos.close();</span><br></pre></td></tr></table></figure><h1 id="5、-转换流"><a href="#5、-转换流" class="headerlink" title="5、 转换流"></a>5、 转换流</h1><ul><li>转换流提供了在字节流和字符流之间的转换</li><li>很多时候我们使用转换流来处理文件乱码问题，实现编码和解码的功能</li><li>如果字节流中的数据都是字符类型时，转成字符流效率更高</li></ul><table><thead><tr><th>名称</th><th>作用</th><th>方向</th></tr></thead><tbody><tr><td>InputStreamReader</td><td>将InputStream转换为Reader</td><td>字节 ---》字符</td></tr><tr><td>OutputStreamWriter</td><td>将Writer转换为OutputStream</td><td>字符---》字节</td></tr></tbody></table><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1、创建输入流</span></span><br><span class="line">FileInputStream inputStream = <span class="keyword">new</span> FileInputStream(<span class="string">"db.txt"</span>);</span><br><span class="line"><span class="comment">//2、转换 字节流转换为字符流</span></span><br><span class="line">InputStreamReader reader = <span class="keyword">new</span> InputStreamReader(inputStream); <span class="comment">//使用系统默认编码格式</span></span><br><span class="line">reader = <span class="keyword">new</span> InputStreamReader(inputStream, <span class="string">"UTF-8"</span>);</span><br><span class="line"><span class="comment">//3、读取操作</span></span><br><span class="line"><span class="keyword">char</span>[] buffer = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">3</span>];</span><br><span class="line"><span class="keyword">int</span> len;</span><br><span class="line"><span class="keyword">while</span>((len = reader.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">String str = <span class="keyword">new</span> String(buffer, <span class="number">0</span>, len);</span><br><span class="line">System.out.println(str);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//4关闭资源</span></span><br><span class="line">reader.close(); <span class="comment">//内层关联关闭</span></span><br></pre></td></tr></table></figure><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1创建流</span></span><br><span class="line">FileInputStream input = <span class="keyword">new</span> FileInputStream(<span class="string">"db.txt"</span>);</span><br><span class="line">FileOutputStream out = <span class="keyword">new</span> FileOutputStream(<span class="string">"db_2.txt"</span>);</span><br><span class="line"><span class="comment">//2转换流</span></span><br><span class="line">InputStreamReader reader = <span class="keyword">new</span> InputStreamReader(input);</span><br><span class="line">OutputStreamWriter writer = <span class="keyword">new</span> OutputStreamWriter(out);</span><br><span class="line"><span class="comment">//3读写</span></span><br><span class="line"><span class="keyword">char</span>[] buffer = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> len;</span><br><span class="line"><span class="keyword">while</span>((len = reader.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">writer.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//4.关闭</span></span><br><span class="line">reader.close();</span><br><span class="line">writer.close();</span><br></pre></td></tr></table></figure><p>总结：</p><p>   解码：字节/字节数组 ---》 字符数组/字符串</p><p>   编码：字符数组/字符串 ---》字节、字节数组</p><h2 id="6-对象序列化"><a href="#6-对象序列化" class="headerlink" title="6. 对象序列化"></a>6. 对象序列化</h2><ul><li>序列化：用ObjectOutputStream类保存基本类型数据或对象。</li><li>反序列化：使用ObjectInputStream类读取基本类型数据或对象</li><li>不能序列化static和transient修饰的成员变量</li><li>对象序列化机制允许把内存中的对象转换成与平台无关的二进制流。从而把这种二进制数据保存在硬盘中。获取通过网络将这种二进制数据传输到另一个网络节点。当程序获取到这种二进制流，就可以恢复成原来java对象。</li><li>对象序列化需要实现Serializable接口</li></ul><p>序列化的步骤：</p><ol><li>创建ObjectOutputStream</li><li>调用ObjectOutputStream的writerObjet（）方法可输出序列化对象</li><li>操作flush</li></ol><p>反序列化步骤：</p><ol><li>创建ObjectInputStream</li><li>调用ObjectInputStrea的Readobject()方法读取流中的对象</li></ol><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line"><span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">"Person [name="</span> + name + <span class="string">", age="</span> + age + <span class="string">"]"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建处理流</span></span><br><span class="line">ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"object.dat"</span>));</span><br><span class="line"><span class="comment">//序列化</span></span><br><span class="line"><span class="comment">//oos.writeObject(new String("测试信息"));</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">oos.writeObject(<span class="keyword">new</span> Person(<span class="string">"admin"</span>,<span class="number">20</span>));</span><br><span class="line">oos.flush();</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建处理流</span></span><br><span class="line">ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"object.dat"</span>));</span><br><span class="line"><span class="comment">//反序列化</span></span><br><span class="line">Person p = (Person) ois.readObject();</span><br><span class="line"></span><br><span class="line">System.out.println(p);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;I-O流&quot;&gt;&lt;a href=&quot;#I-O流&quot; class=&quot;headerlink&quot; title=&quot;I/O流&quot;&gt;&lt;/a&gt;I/O流&lt;/h1&gt;&lt;h1 id=&quot;1、File类的使用&quot;&gt;&lt;a href=&quot;#1、File类的使用&quot; class=&quot;headerlink&quot; titl
      
    
    </summary>
    
      <category term="javase" scheme="https://theme-next.org/categories/javase/"/>
    
    
      <category term="javase" scheme="https://theme-next.org/tags/javase/"/>
    
  </entry>
  
  <entry>
    <title>Java异常</title>
    <link href="https://theme-next.org/Java%E5%BC%82%E5%B8%B8/"/>
    <id>https://theme-next.org/Java异常/</id>
    <published>2019-08-10T07:37:22.000Z</published>
    <updated>2019-08-10T07:45:22.160Z</updated>
    
    <content type="html"><![CDATA[<h1 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h1><p>为什么高级语言会出现异常：</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>因为程序出错是不可避免的，所以为了提高程序的健壮性，所以所有的高级语言都添加了异常的处理方式，被称为异常处理机制</span><br><span class="line"><span class="bullet">- </span>注意开发过程中的逻辑错误和语法错误不是异常</span><br></pre></td></tr></table></figure><h2 id="1、异常概述"><a href="#1、异常概述" class="headerlink" title="1、异常概述"></a>1、异常概述</h2><p>java把异常分为两大类：</p><ul><li>Error ： jvm无法处理和解决的严重问题。（类似重大交通事故）</li><li>Exception：可以处理</li></ul><p><img src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1563848192112.png" alt="1563848192112"></p><p>j<strong>ava.lang.Error</strong></p><p>实例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//java.lang.StackOverflowError : 栈溢出</span></span><br><span class="line">test();</span><br><span class="line"></span><br><span class="line"><span class="comment">//java.lang.OutOfMemoryError: 内存溢出</span></span><br><span class="line">Integer[] arr = <span class="keyword">new</span> Integer[<span class="number">1024</span> * <span class="number">1024</span> * <span class="number">1024</span>];</span><br></pre></td></tr></table></figure><p><strong>java.lang.Exception</strong></p><ul><li>偶然出现的编程错误导致的一般性问题，可以使用异常机制进行处理，目的是让程序能够处理“错误”，提高程序的健壮性，看起来比较智能。</li></ul><p>处理方式：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1. </span>遇到错误终止程序</span><br></pre></td></tr></table></figure><ol start="2"><li>处理错误，给出提示，继续运行</li></ol><p>捕捉错误的时机：</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>编译时期：编译时出现的错误，需要事先强制处理错误（checked）</span><br><span class="line"><span class="bullet">- </span>运行时期：运行时出现的错误（unchecked）</span><br></pre></td></tr></table></figure><p> <strong>异常体系</strong></p><ul><li>java.lang.Throwable<ul><li>java.lang.Error：不做处理</li></ul></li><li>java.lang.Exception：处理</li></ul><h2 id="2、常见的异常类型"><a href="#2、常见的异常类型" class="headerlink" title="2、常见的异常类型"></a>2、常见的异常类型</h2><p>面试常问：需要记住</p><ul><li>编译时期异常：（checked）<ul><li>IOException<ul><li>FileNotFoundException</li></ul></li><li>ClassNotFoundException</li></ul></li><li>运行时期异常：（unchecked，java.lang.RuntimeException）<ul><li>NullPointException</li><li>ArrayIndexOutOfBoundsException</li><li>ClassCastException</li><li>NumberFormatException</li><li>InputMismatchException</li><li>ArithmeticException</li></ul></li></ul><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">////java.lang.NullPointerException</span></span><br><span class="line"><span class="comment">//String str = null;</span></span><br><span class="line"><span class="comment">//System.out.println(str.length());</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">////ArrayIndexOutOfBoundsException</span></span><br><span class="line"><span class="comment">//String[] arr = new String[4];</span></span><br><span class="line"><span class="comment">//System.out.println(arr[5]);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ClassCastException</span></span><br><span class="line"><span class="comment">//Object obj = new Date();</span></span><br><span class="line"><span class="comment">//String str2 = (String)obj;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//NumberFormatException</span></span><br><span class="line"><span class="comment">//int num = Integer.parseInt("abc");</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//InputMismatchException</span></span><br><span class="line"><span class="comment">//Scanner input = new Scanner(System.in);</span></span><br><span class="line"><span class="comment">//System.out.println("请输入一个数");</span></span><br><span class="line"><span class="comment">//int res = input.nextInt();</span></span><br><span class="line"><span class="comment">//input.close();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ArithmeticException</span></span><br><span class="line"><span class="keyword">int</span> res = <span class="number">10</span> / <span class="number">0</span>;</span><br></pre></td></tr></table></figure><h2 id="3、处理异常"><a href="#3、处理异常" class="headerlink" title="3、处理异常"></a>3、处理异常</h2><h3 id="3-1、异常处理模型：抓抛模型"><a href="#3-1、异常处理模型：抓抛模型" class="headerlink" title="3.1、异常处理模型：抓抛模型"></a>3.1、异常处理模型：抓抛模型</h3><ol><li><p>抓取：进行异常处理</p><p>方式一：try-catch-finally</p><p>方式二：throws + 异常类型</p></li><li><p>抛出：程序在运行的过程中一但出现异常，就会在异常出现的地方生成异常对象，并将此抛出，其后代码不在运行。</p></li></ol><h3 id="3-2-、处理方式"><a href="#3-2-、处理方式" class="headerlink" title="3.2 、处理方式"></a>3.2 、处理方式</h3><p><strong>方式一： try-catch-finally（自己处理）</strong></p><p>语法结构：</p><p> try {</p><p>​    //可能出现异常的代码</p><p>  } catch(异常类型 变量名称) {</p><p>​     //处理异常代码</p><p>  } catch（异常类型 变量名称） {</p><p>​    //处理异常代码</p><p>  } ... {</p><p>}finally {  //可选择</p><p>   //一定执行的代码</p><p>}</p><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">"123"</span>;</span><br><span class="line">str = <span class="string">"abc"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">int</span> num = Integer.parseInt(str);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//没有机会执行</span></span><br><span class="line">     Object obj = <span class="keyword">new</span> Date();</span><br><span class="line">     String str2 = (String)obj;</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"num = "</span> + num);</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">catch</span>(NullPointerException e)&#123;</span><br><span class="line">    System.out.println(<span class="string">"NullPointerException --- "</span>);</span><br><span class="line">&#125;<span class="keyword">catch</span>(NumberFormatException e) &#123;</span><br><span class="line">    <span class="comment">//System.out.println(e.getMessage()); //异常对象信息</span></span><br><span class="line"><span class="comment">//e.printStackTrace(); //异常堆栈信息</span></span><br><span class="line">    System.out.println(<span class="string">"NumberFormatException----"</span>);</span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">    System.out.println(<span class="string">"Exception --- "</span>);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">"执行 ---------- "</span>);</span><br></pre></td></tr></table></figure><p>说明：</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- <span class="keyword">try</span>将可能出现的异常代码包含起来，一但代码出现异常将会在出现异常的地方生成异常对象并抛给系统，之后跳转到<span class="keyword">catch</span>区域</span><br><span class="line">- <span class="keyword">catch</span>则可以根据是否匹配（对应的类型或子类）捕捉到异常对象，再进行异常代码的处理</span><br><span class="line">- 处理完异常代码逻辑跳出<span class="keyword">try</span>-<span class="keyword">catch</span>块执行剩余的代码，（可能不会执行所有的<span class="keyword">catch</span>块）</span><br><span class="line">- 在<span class="keyword">try</span>-<span class="keyword">catch</span>声明的变量不能跳出该结构被找到，所以有时候需要在<span class="keyword">try</span>-<span class="keyword">catch</span>块之外</span><br><span class="line">- <span class="keyword">try</span>-<span class="keyword">catch</span>将编译时出现的异常推迟到运行时异常处理，但仍然可能出错，所以在开发中运行时异常我们一般不做处理。</span><br></pre></td></tr></table></figure><p>演示代码：（finally）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">int</span> num1 = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> num2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> res = num1 / num2;</span><br><span class="line">    &#125;<span class="keyword">catch</span>(ArithmeticException e)&#123;</span><br><span class="line">        System.out.println(e.getMessage());</span><br><span class="line">        <span class="comment">//继续抛出异常</span></span><br><span class="line">        System.out.println(Integer.parseInt(<span class="string">"abc"</span>));</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">"一定会执行 --- "</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>演示代码：（return执行）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line">System.out.println(method());</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">//演示return也执行</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">method</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">System.out.println(nums[<span class="number">3</span>]);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;<span class="keyword">catch</span>(IndexOutOfBoundsException e)&#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>; <span class="comment">//执行在finally之后</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">System.out.println(<span class="string">"一定会执行 --- "</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>演示代码：（资源释放）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">FileInputStream input = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">//File类代表一个文件/文件夹</span></span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line">    <span class="comment">//创建流，建立“管道”，将文本读取到内存</span></span><br><span class="line">    input = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//读取hello.txt文件信息</span></span><br><span class="line">    <span class="keyword">int</span> data = input.read();</span><br><span class="line">    <span class="keyword">while</span>(data != -<span class="number">1</span>)&#123; <span class="comment">//判断文件内容是否存在</span></span><br><span class="line">        System.out.print((<span class="keyword">char</span>)data);</span><br><span class="line">        data = input.read();</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">//关闭资源</span></span><br><span class="line">    <span class="keyword">if</span>(input != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            input.close();<span class="comment">//关闭资源</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>说明：</p><ul><li>finally声明的语句一定会被执行，即使catch中出现异常，或try-catch中有return语句也会被执行</li><li>通常jvm不能够及时回收的资源可放入finally语句中，比如：数据库连接，输入输出流等资源的释放</li></ul><p>方式二：throws + 异常类型 （别的方法处理）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test6</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">method2(); <span class="comment">//调用者处理异常</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">//声明抛出异常，谁调用谁处理</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">FileInputStream input = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// File类代表一个文件/文件夹</span></span><br><span class="line">File file = <span class="keyword">new</span> File(<span class="string">"hello.txt"</span>);</span><br><span class="line"><span class="comment">// 创建流，建立“管道”，将文本读取到内存</span></span><br><span class="line">input = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取hello.txt文件信息</span></span><br><span class="line"><span class="keyword">int</span> data = input.read();</span><br><span class="line"><span class="keyword">while</span> (data != -<span class="number">1</span>) &#123; <span class="comment">// 判断文件内容是否存在</span></span><br><span class="line">System.out.print((<span class="keyword">char</span>) data);</span><br><span class="line">data = input.read();</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">input.close();<span class="comment">// 关闭资源</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>说明：</p><ul><li>写方法声明时可以说明此方法执行时会被抛出的异常</li><li>此方法没有真正处理异常，只给抛出调用者来处理</li></ul><h3 id="3-3-开发中选择try-catch或throws注意事项"><a href="#3-3-开发中选择try-catch或throws注意事项" class="headerlink" title="3.3. 开发中选择try-catch或throws注意事项"></a>3.3. 开发中选择try-catch或throws注意事项</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OverrideTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">(SuperClass sup)</span></span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">sup.method();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SuperClass</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">subClass</span> <span class="keyword">extends</span> <span class="title">SuperClass</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>说明：</p><ul><li>如果父类中被重写的方法没有throws异常，则子类重写的方法也不能抛出异常，子类只能try-catch处理</li><li>子类重写的方法抛出的异常必须是父类的同类型或子类类型</li></ul><h2 id="4、-手动生成异常（throw）"><a href="#4、-手动生成异常（throw）" class="headerlink" title="4、 手动生成异常（throw）"></a>4、 手动生成异常（throw）</h2><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Student stu = <span class="keyword">new</span> Student();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">stu.regist(-<span class="number">100</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">regist</span><span class="params">(<span class="keyword">int</span> id)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(id &gt; <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">this</span>.id = id;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">//System.out.println("输出数据有误");</span></span><br><span class="line"><span class="comment">//手动抛出异常</span></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"输出数据有误"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5、-自定义异常"><a href="#5、-自定义异常" class="headerlink" title="5、 自定义异常"></a>5、 自定义异常</h2><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyException</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyException</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyException</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>用户自定义异常类都是RuntimeException的子类</li><li>自定义异常类通常需要编写几个重载的构造器</li><li>自定义异常类需要提供serialVersionUID</li><li>自定义的异常通过throw抛出</li></ul><p>总结：</p><p><img src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1563865069562.png" alt="1563865069562"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;异常&quot;&gt;&lt;a href=&quot;#异常&quot; class=&quot;headerlink&quot; title=&quot;异常&quot;&gt;&lt;/a&gt;异常&lt;/h1&gt;&lt;p&gt;为什么高级语言会出现异常：&lt;/p&gt;
&lt;figure class=&quot;highlight asciidoc&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td cl
      
    
    </summary>
    
      <category term="javase" scheme="https://theme-next.org/categories/javase/"/>
    
    
      <category term="javase" scheme="https://theme-next.org/tags/javase/"/>
    
  </entry>
  
  <entry>
    <title>Java集合</title>
    <link href="https://theme-next.org/Java%E9%9B%86%E5%90%88/"/>
    <id>https://theme-next.org/Java集合/</id>
    <published>2019-08-10T07:36:49.000Z</published>
    <updated>2019-08-10T07:45:10.983Z</updated>
    
    <content type="html"><![CDATA[<h1 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h1><h2 id="1、集合框架概述"><a href="#1、集合框架概述" class="headerlink" title="1、集合框架概述"></a>1、集合框架概述</h2><ul><li>java中为了对多个对象进行操作，就需要对多个对象进行存储，针对Array的弊端，Java集合就创建一个“容器”，可以动态的把多个对象的引用放入容器中。</li><li>java集合类就是对多个对象进行存储的操作类，存储的类型可以是单个对象，也可以是关联对象。</li><li>注意Java集合中存储的对象在内存中，如果存储在硬盘中的叫做“持久化操作”</li></ul><p>Java集合分为两种不同的体系：</p><ul><li>Collection：单值接口操作<ul><li>List：接口：元素有序，可重复  ---“动态”数组<ul><li>ArrayList、LinkedList、Vector</li></ul></li><li>Set：接口：元素无序，不可重复 --- “高中集合”<ul><li>HashSet、LinkedHashSet、TreeSet</li></ul></li></ul></li><li>Map：键值操作接口、有key---value组成    --- “高中函数y = f（x）”<ul><li>HashMap、LinkedHashMap、TreeMap、Hashtable、Properties</li></ul></li></ul><h2 id="2、Collection接口"><a href="#2、Collection接口" class="headerlink" title="2、Collection接口"></a>2、Collection接口</h2><ul><li>Collection接口不提供任何实现类，而是提供更加具体的子接口</li><li>在JDK5之前，集合会丢失容器中所放入的对象的类型，会把所有放入的对象都当成Object类型处理，从1.5之后增加了泛型，则Java集合可以记住容器中的对象的数据类型。</li></ul><h3 id="2-1、collection接口体系："><a href="#2-1、collection接口体系：" class="headerlink" title="2.1、collection接口体系："></a>2.1、collection接口体系：</h3><p><img src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1563935115563.png" alt="1563935115563"></p><h3 id="2-2、常用方法：（API）"><a href="#2-2、常用方法：（API）" class="headerlink" title="2.2、常用方法：（API）"></a>2.2、常用方法：（API）</h3><p>演示代码：（）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过ArrayList创建对象</span></span><br><span class="line">Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="comment">//add(E e) //Object e：添加元素</span></span><br><span class="line">coll.add(<span class="string">"AA"</span>);</span><br><span class="line">coll.add(<span class="string">"BB"</span>);</span><br><span class="line">coll.add(<span class="number">123</span>); <span class="comment">//自动装箱</span></span><br><span class="line">coll.add(<span class="keyword">new</span> Date());</span><br><span class="line"></span><br><span class="line"><span class="comment">//size() ：获取集合中元素的个数</span></span><br><span class="line">System.out.println(coll);</span><br><span class="line">System.out.println(<span class="string">"集合中元素个数： "</span> + coll.size()); <span class="comment">//4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//将coll2中的所有元素添加到指定集合中</span></span><br><span class="line"><span class="comment">//addAll(Collection&lt;? extends E&gt; c)</span></span><br><span class="line">Collection coll2 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">coll2.add(<span class="number">456</span>);</span><br><span class="line">coll2.add(<span class="string">"cc"</span>);</span><br><span class="line">coll.addAll(coll2);</span><br><span class="line">System.out.println(coll);</span><br><span class="line">System.out.println(<span class="string">"集合中元素个数： "</span> + coll.size()); <span class="comment">//6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//clear() ： 清空集合中的元素</span></span><br><span class="line">coll.clear();</span><br><span class="line">System.out.println(coll);</span><br><span class="line">System.out.println(<span class="string">"集合中元素个数： "</span> + coll.size()); <span class="comment">//0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//isEmpty():判断当前集合是否为空</span></span><br><span class="line">System.out.println(coll.isEmpty());</span><br></pre></td></tr></table></figure><p>实例代码：（contains(Object o)、containsAll(Collection&lt;?&gt; c)）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line">coll.add(<span class="number">123</span>);</span><br><span class="line">coll.add(<span class="number">456</span>);</span><br><span class="line">coll.add(<span class="keyword">new</span> String(<span class="string">"Tom"</span>));</span><br><span class="line">coll.add(<span class="keyword">false</span>);</span><br><span class="line">Person p = <span class="keyword">new</span> Person(<span class="string">"小王"</span>, <span class="number">20</span>);</span><br><span class="line">coll.add(p);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1、contains(Object o) : 判断当前集合中是否包含指定的元素,判断对象相等会调用对象所在类的equals()方法</span></span><br><span class="line"><span class="comment">// boolean contains = coll.contains(123);</span></span><br><span class="line"><span class="comment">// System.out.println(contains);</span></span><br><span class="line"><span class="comment">// boolean contains2 = coll.contains(new String("Tom"));</span></span><br><span class="line"><span class="comment">// 添加p對</span></span><br><span class="line"><span class="comment">// System.out.println(contains2); // true</span></span><br><span class="line"><span class="comment">// boolean contains3 = coll.contains(p);</span></span><br><span class="line"><span class="comment">// System.out.println(contains3); // true</span></span><br><span class="line"><span class="keyword">boolean</span> contains4 = coll.contains(<span class="keyword">new</span> Person(<span class="string">"小王"</span>, <span class="number">20</span>));</span><br><span class="line">System.out.println(contains4); <span class="comment">// false: 调用的是父类（object的equals方法使用是==比较）</span></span><br><span class="line">                                <span class="comment">// true : 重写父类的equals方法：属性相同就相同</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2、containsAll(Collection&lt;?&gt; c) :判断coll2集合中的所有元素是否在某个集合中存在</span></span><br><span class="line">Collection coll2 = Arrays.asList(<span class="number">123</span>,<span class="number">456</span>);</span><br><span class="line">System.out.println(coll.containsAll(coll2));</span><br></pre></td></tr></table></figure><ul><li>在Collection接口中的添加object类型的对象时，要求所在的类重写equals方法</li><li>集合在判断相同元素时会调用所在类的equals方法判断是否相同</li></ul><p>示例代码：(<strong>remove</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" target="_blank" rel="noopener">Object</a> o),<strong>removeAll</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html" target="_blank" rel="noopener">Collection</a>&lt;?&gt; c))</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line">coll.add(<span class="number">123</span>);</span><br><span class="line">coll.add(<span class="number">456</span>);</span><br><span class="line">coll.add(<span class="keyword">new</span> String(<span class="string">"Tom"</span>));</span><br><span class="line">coll.add(<span class="keyword">false</span>);</span><br><span class="line">Person p = <span class="keyword">new</span> Person(<span class="string">"小王"</span>, <span class="number">20</span>);</span><br><span class="line">coll.add(p);</span><br><span class="line"></span><br><span class="line">coll.remove(<span class="number">123</span>);</span><br><span class="line">System.out.println(coll);</span><br><span class="line"></span><br><span class="line"><span class="comment">//remove(Object o)</span></span><br><span class="line">coll.remove(<span class="keyword">new</span> Person(<span class="string">"小王"</span>, <span class="number">20</span>));</span><br><span class="line">System.out.println(coll);</span><br><span class="line"></span><br><span class="line"><span class="comment">//removeAll(Collection&lt;?&gt; c)</span></span><br><span class="line">Collection coll2 = Arrays.asList(<span class="number">123</span>,<span class="number">456</span>);</span><br><span class="line">coll.removeAll(coll2);</span><br><span class="line">System.out.println(coll);</span><br></pre></td></tr></table></figure><p>示例代码：(<strong>equals</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" target="_blank" rel="noopener">Object</a> o),)<strong>retainAll</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html" target="_blank" rel="noopener">Collection</a>&lt;?&gt; c)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line">coll.add(<span class="number">123</span>);</span><br><span class="line">coll.add(<span class="number">456</span>);</span><br><span class="line">coll.add(<span class="keyword">new</span> String(<span class="string">"Tom"</span>));</span><br><span class="line">coll.add(<span class="keyword">false</span>);</span><br><span class="line">Person p = <span class="keyword">new</span> Person(<span class="string">"小王"</span>, <span class="number">20</span>);</span><br><span class="line">coll.add(p);</span><br><span class="line"></span><br><span class="line"><span class="comment">//System.out.println(coll);</span></span><br><span class="line"><span class="comment">////retainAll(Collection&lt;?&gt; c):获取交集</span></span><br><span class="line"><span class="comment">//Collection coll2 = Arrays.asList(123,456);</span></span><br><span class="line"><span class="comment">//coll.retainAll(coll2);</span></span><br><span class="line"><span class="comment">//System.out.println(coll);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//equals(Object o)</span></span><br><span class="line">Collection coll2 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">coll2.add(<span class="number">123</span>);</span><br><span class="line">coll2.add(<span class="number">456</span>);</span><br><span class="line">coll2.add(<span class="keyword">new</span> String(<span class="string">"Tom"</span>));</span><br><span class="line">coll2.add(<span class="keyword">false</span>);</span><br><span class="line">Person p2 = <span class="keyword">new</span> Person(<span class="string">"小王"</span>, <span class="number">20</span>);</span><br><span class="line">coll2.add(p2);</span><br><span class="line"><span class="comment">//传递的集合和本身的集合要完全相同，返回ture</span></span><br><span class="line"><span class="keyword">boolean</span> res = coll.equals(coll2); <span class="comment">//判断集合中的元素是否完全相同</span></span><br><span class="line">System.out.println(res);</span><br></pre></td></tr></table></figure><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line">coll.add(<span class="number">123</span>);</span><br><span class="line">coll.add(<span class="number">456</span>);</span><br><span class="line">coll.add(<span class="keyword">new</span> String(<span class="string">"Tom"</span>));</span><br><span class="line">coll.add(<span class="keyword">false</span>);</span><br><span class="line">Person p = <span class="keyword">new</span> Person(<span class="string">"小王"</span>, <span class="number">20</span>);</span><br><span class="line">coll.add(p);</span><br><span class="line"></span><br><span class="line"><span class="comment">//hashCode()：返回当前对象的哈希值</span></span><br><span class="line">System.out.println(coll.hashCode()); <span class="comment">//?</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//集合 ---&gt; 数组</span></span><br><span class="line">Object[] objs = coll.toArray();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; objs.length; i++) &#123;</span><br><span class="line">System.out.println(objs[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//扩展: 数组 ---&gt;集合</span></span><br><span class="line">List&lt;String&gt; list = Arrays.asList(<span class="keyword">new</span> String[]&#123;<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>&#125;);</span><br><span class="line">System.out.println(list);</span><br><span class="line"></span><br><span class="line"><span class="comment">//size()</span></span><br><span class="line">System.out.println(coll.size());</span><br></pre></td></tr></table></figure><h2 id="3、Iterator迭代器接口"><a href="#3、Iterator迭代器接口" class="headerlink" title="3、Iterator迭代器接口"></a>3、Iterator迭代器接口</h2><ul><li>Iterator对象称为迭代器（设计模式），主要用于遍历Collection集合中的元素</li><li>迭代器模式是为容器而生。</li><li>Collection接口继承了java.lang.Iterable接口</li><li>Iterator仅用于遍历集合，本身不提供承装对象的能力，如果需要创建Iterator对象，则必须有需要迭代的集合</li><li>集合对象每次调用iterator（）方法都得到一个全新的迭代器对象，默认游标都在集合的第一个元素之前</li></ul><p>迭代器执行原理:</p><p>示例代码：(使用迭代器变量元素)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    coll.add(<span class="number">123</span>);</span><br><span class="line">    coll.add(<span class="number">456</span>);</span><br><span class="line">    coll.add(<span class="keyword">new</span> String(<span class="string">"Tom"</span>));</span><br><span class="line">    coll.add(<span class="keyword">new</span> String(<span class="string">"Jac"</span>));</span><br><span class="line">    coll.add(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取迭代器对象</span></span><br><span class="line">    Iterator iterator = coll.iterator();</span><br><span class="line">    <span class="comment">//方式一：</span></span><br><span class="line">    System.out.println(iterator.next());</span><br><span class="line">    System.out.println(iterator.next());</span><br><span class="line">    System.out.println(iterator.next());</span><br><span class="line">    System.out.println(iterator.next());</span><br><span class="line">    System.out.println(iterator.next());</span><br><span class="line">    System.out.println(iterator.next()); <span class="comment">//没有元素抛出NoSuchElementException</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//方式二：</span></span><br><span class="line">    <span class="comment">//iterator.hasNext() ：判断是否有下一个元素</span></span><br><span class="line">    <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">        <span class="comment">//next：1、将指针下移，2、将下移后当前位置中的元素返回</span></span><br><span class="line">        System.out.println(iterator.next());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>示例代码：（深刻理解迭代器）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line">coll.add(<span class="number">123</span>);</span><br><span class="line">coll.add(<span class="number">456</span>);</span><br><span class="line">coll.add(<span class="keyword">new</span> String(<span class="string">"Tom"</span>));</span><br><span class="line">coll.add(<span class="keyword">new</span> String(<span class="string">"Jack"</span>));</span><br><span class="line">coll.add(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//错误的方式</span></span><br><span class="line"><span class="comment">//Iterator iterator = coll.iterator();</span></span><br><span class="line"><span class="comment">//while(iterator.next() != null)&#123; //每次next都有移动指针</span></span><br><span class="line"><span class="comment">//System.out.println(iterator.next());</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//错误方式 ：每次iterator都会获取新的迭代器</span></span><br><span class="line"><span class="keyword">while</span>(coll.iterator().hasNext())&#123;</span><br><span class="line">System.out.println(coll.iterator().next());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>示例代码：（iterator中的remove）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line">coll.add(<span class="number">123</span>);</span><br><span class="line">coll.add(<span class="number">456</span>);</span><br><span class="line">coll.add(<span class="keyword">new</span> String(<span class="string">"Tom"</span>));</span><br><span class="line">coll.add(<span class="keyword">new</span> String(<span class="string">"Jack"</span>));</span><br><span class="line">coll.add(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除Tom</span></span><br><span class="line">Iterator iterator = coll.iterator();</span><br><span class="line"><span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">    <span class="comment">//iterator.remove(); //报错：IllegalStateException</span></span><br><span class="line">    Object object = iterator.next();</span><br><span class="line">    <span class="keyword">if</span>(<span class="string">"Tom"</span>.equals(object))&#123;</span><br><span class="line">        iterator.remove();</span><br><span class="line">        <span class="comment">//iterator.remove();报错</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(coll);</span><br></pre></td></tr></table></figure><ul><li>Iterator可以删除集合中的元素，但是在遍历过程中通过迭代器对象的remove()方法不是集合中的remove方法</li><li>如果还未调用next（）方法或多次调用remove方法都会报错</li></ul><p><strong>使用foreach循环遍历集合元素</strong></p><ul><li>jdk1.5之后提供了foreach循环迭代访问Collection和数组</li><li>foreach底层使用的迭代器方式</li></ul><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    coll.add(<span class="number">123</span>);</span><br><span class="line">    coll.add(<span class="number">456</span>);</span><br><span class="line">    coll.add(<span class="keyword">new</span> String(<span class="string">"Tom"</span>));</span><br><span class="line">    coll.add(<span class="keyword">new</span> String(<span class="string">"Jack"</span>));</span><br><span class="line">    coll.add(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//for(数据类型 变量：数组/集合)</span></span><br><span class="line">    <span class="keyword">for</span>(Object obj : coll)&#123;</span><br><span class="line">        System.out.println(obj);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">    <span class="comment">//方式一：</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        System.out.println(arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//方式二：增强for循环</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i : arr)&#123;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>思考题：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">String[] arr = <span class="keyword">new</span> String[] &#123; <span class="string">"mm"</span>, <span class="string">"mm"</span>, <span class="string">"mm"</span> &#125;;</span><br><span class="line"><span class="comment">// 方式一：</span></span><br><span class="line"><span class="comment">//for (int i = 0; i &lt; arr.length; i++) &#123;</span></span><br><span class="line"><span class="comment">//arr[i] = "GG";</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式二：</span></span><br><span class="line"><span class="keyword">for</span> (String str : arr) &#123;</span><br><span class="line">    str = <span class="string">"GG"</span>; <span class="comment">//</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    System.out.println(arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4、List接口"><a href="#4、List接口" class="headerlink" title="4、List接口"></a>4、List接口</h2><h3 id="4-1、List概述"><a href="#4-1、List概述" class="headerlink" title="4.1、List概述"></a>4.1、List概述</h3><ul><li>List集合有序，可重复。可看成“动态”数组，代替原来的数组</li></ul><p>核心实现类：</p><ul><li>ArrayList、<ul><li>LinkedList</li></ul></li><li>Vector</li></ul><p>核心实现类特点：（面试内容）</p><ul><li>ArrayList：作为List接口的主要实现类、线程不安全、效率高。<strong>底层使用Object[]数组实现存储</strong></li><li>LinkedList：<strong>底层使用双向链表存储数据，</strong>如果频繁添加，删除，插入元素则效率较高</li><li>Vector：古老的实现类、甚至出现在List接口之前，线程安全。效率低。底层使用Object[]数组实现存储</li></ul><h3 id="4-2、源码分析"><a href="#4-2、源码分析" class="headerlink" title="4.2、源码分析"></a>4.2、源码分析</h3><p><strong>ArrayList源码：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Constructs an empty list with an initial capacity of ten.</span></span><br><span class="line"><span class="comment">默认构造器器</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ArrayList</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//内部默认创建object[]数组保存数据</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * The array buffer into which the elements of the ArrayList are stored.</span></span><br><span class="line"><span class="comment"> * The capacity of the ArrayList is the length of this array buffer. Any</span></span><br><span class="line"><span class="comment"> * empty ArrayList with elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span></span><br><span class="line"><span class="comment"> * will be expanded to DEFAULT_CAPACITY when the first element is added.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">transient</span> Object[] elementData; <span class="comment">// non-private to simplify nested class access</span></span><br><span class="line"><span class="comment">//jdk1.8初始状态创建了空&#123;&#125;数组</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Shared empty array instance used for default sized empty instances. We</span></span><br><span class="line"><span class="comment"> * distinguish this from EMPTY_ELEMENTDATA to know how much to inflate when</span></span><br><span class="line"><span class="comment"> * first element is added.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//向集合中添加元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Appends the specified element to the end of this list.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> e element to be appended to this list</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &lt;tt&gt;true&lt;/tt&gt; (as specified by &#123;<span class="doctag">@link</span> Collection#add&#125;)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//添加调用的方法</span></span><br><span class="line">    ensureCapacityInternal(size + <span class="number">1</span>);  <span class="comment">// Increments modCount!!</span></span><br><span class="line">    elementData[size++] = e;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureCapacityInternal</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123; <span class="comment">//参数 1</span></span><br><span class="line">    <span class="keyword">if</span> (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123; </span><br><span class="line">        minCapacity = Math.max(DEFAULT_CAPACITY, minCapacity); <span class="comment">//获取10</span></span><br><span class="line">    &#125;</span><br><span class="line">     <span class="comment">//调用扩容方法</span></span><br><span class="line">    ensureExplicitCapacity(minCapacity);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureExplicitCapacity</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">        modCount++;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// overflow-conscious code</span></span><br><span class="line">        <span class="keyword">if</span> (minCapacity - elementData.length &gt; <span class="number">0</span>)</span><br><span class="line">            <span class="comment">//扩容方法</span></span><br><span class="line">            grow(minCapacity);</span><br><span class="line">   &#125;</span><br><span class="line"><span class="comment">//扩容的执行算法</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Increases the capacity to ensure that it can hold at least the</span></span><br><span class="line"><span class="comment">     * number of elements specified by the minimum capacity argument.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> minCapacity the desired minimum capacity</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">grow</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// overflow-conscious code</span></span><br><span class="line">        <span class="keyword">int</span> oldCapacity = elementData.length;</span><br><span class="line">        <span class="keyword">int</span> newCapacity = oldCapacity + (oldCapacity &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (newCapacity - minCapacity &lt; <span class="number">0</span>)</span><br><span class="line">            newCapacity = minCapacity;</span><br><span class="line">        <span class="keyword">if</span> (newCapacity - MAX_ARRAY_SIZE &gt; <span class="number">0</span>)</span><br><span class="line">            newCapacity = hugeCapacity(minCapacity);</span><br><span class="line">        <span class="comment">// minCapacity is usually close to size, so this is a win:</span></span><br><span class="line">        elementData = Arrays.copyOf(elementData, newCapacity);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>ArrayList底层使用Object[]数组来存储数据，</li><li>add()添加元素、底层才初始数组长度，初始化数组的长度为10</li><li>每次扩充容量为1.5倍</li></ul><p><strong>LinkedList源码：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Pointer to first node.</span></span><br><span class="line"><span class="comment">     * Invariant: (first == null &amp;&amp; last == null) ||</span></span><br><span class="line"><span class="comment">     *            (first.prev == null &amp;&amp; first.item != null)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">transient</span> Node&lt;E&gt; first; <span class="comment">//第一个节点</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Pointer to last node.</span></span><br><span class="line"><span class="comment">     * Invariant: (first == null &amp;&amp; last == null) ||</span></span><br><span class="line"><span class="comment">     *            (last.next == null &amp;&amp; last.item != null)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">transient</span> Node&lt;E&gt; last; <span class="comment">//最后一个节点</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">        E item;</span><br><span class="line">        Node&lt;E&gt; next; <span class="comment">//下一个节点</span></span><br><span class="line">        Node&lt;E&gt; prev; <span class="comment">//上一个节点</span></span><br><span class="line">         <span class="comment">//element：内容</span></span><br><span class="line">        Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line">            <span class="keyword">this</span>.item = element;</span><br><span class="line">            <span class="keyword">this</span>.next = next;</span><br><span class="line">            <span class="keyword">this</span>.prev = prev;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加元素的算法</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Links e as last element.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">linkLast</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; l = last;</span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; newNode = <span class="keyword">new</span> Node&lt;&gt;(l, e, <span class="keyword">null</span>);</span><br><span class="line">        last = newNode;</span><br><span class="line">        <span class="keyword">if</span> (l == <span class="keyword">null</span>)</span><br><span class="line">            first = newNode;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            l.next = newNode;</span><br><span class="line">        size++;</span><br><span class="line">        modCount++;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>LinkedList创建对象时，内部声明了Node类型的fist属性和last属性，默认为null</li><li>add（）添加，将内容添加到新建的node节点中，再讲新建的node和原来的建立关联</li><li>其中node创建方式体现了双向链表的结构</li></ul><p>Vector分析：</p><ul><li>创建Vector对象时，底层都使用了长度为10的数组，再扩容方式上和List一样，，默认每次扩容2倍</li></ul><p>面试题：</p><p>  ArrayList、LinkedList、Vector的异同，谈谈你的理解</p><h3 id="4-3、常用方法-collection之外的方法"><a href="#4-3、常用方法-collection之外的方法" class="headerlink" title="4.3、常用方法(collection之外的方法)"></a>4.3、常用方法(collection之外的方法)</h3><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line">ArrayList list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">list.add(<span class="number">123</span>);</span><br><span class="line">list.add(<span class="number">456</span>);</span><br><span class="line">list.add(<span class="string">"abc"</span>);</span><br><span class="line">list.add(<span class="number">123</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">System.out.println(list);</span><br><span class="line"></span><br><span class="line"><span class="comment">//在指定位置添加元素</span></span><br><span class="line">list.add(<span class="number">1</span>, <span class="string">"bbb"</span>);</span><br><span class="line">System.out.println(list);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取指定位置的元素</span></span><br><span class="line">Object obj = list.get(<span class="number">5</span>); <span class="comment">//不能超出下标最大值</span></span><br><span class="line">System.out.println(obj);</span><br></pre></td></tr></table></figure><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">ArrayList list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">list.add(<span class="number">123</span>);</span><br><span class="line">list.add(<span class="number">456</span>);</span><br><span class="line">list.add(<span class="string">"abc"</span>);</span><br><span class="line">list.add(<span class="number">123</span>);</span><br><span class="line">list.add(<span class="keyword">new</span> Person(<span class="string">"admin"</span>, <span class="number">20</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">////获取集合中首次出现的元素的位置</span></span><br><span class="line"><span class="comment">//int i = list.indexOf(123);</span></span><br><span class="line"><span class="comment">//System.out.println(i);</span></span><br><span class="line"><span class="comment">////获取集合中最后一次出现的元素的位置</span></span><br><span class="line"><span class="comment">//int lastIndexOf = list.lastIndexOf(123);</span></span><br><span class="line"><span class="comment">//System.out.println(lastIndexOf);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">////返回删除的对象</span></span><br><span class="line"><span class="comment">//Object remove = list.remove(3);</span></span><br><span class="line"><span class="comment">//System.out.println(remove);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//boolean remove2 = list.remove("abc");</span></span><br><span class="line"><span class="comment">//System.out.println(remove2);</span></span><br><span class="line"><span class="comment">//System.out.println(list);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//boolean remove3 = list.remove(new Person("admin", 20));</span></span><br><span class="line"><span class="comment">//System.out.println(remove3);</span></span><br><span class="line"><span class="comment">//System.out.println(list);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//修改的效果</span></span><br><span class="line">list.set(<span class="number">1</span>, <span class="string">"cc"</span>);</span><br><span class="line">System.out.println(list);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取指定区间的元素[ )</span></span><br><span class="line">List subList = list.subList(<span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line">System.out.println(subList);</span><br><span class="line">System.out.println(list);</span><br></pre></td></tr></table></figure><p>总结：</p><ul><li>增加：add(object obj)、</li><li>删：remove(int index)、remove(Object obj)</li><li>改：set（int index, object obj）</li><li>查：get(int index)</li><li>插入：add(int index, Object obj)</li><li>长度：size()</li><li>遍历：<ul><li>Iterator：迭代器</li><li>增强for循环</li><li>普通for  循环</li></ul></li></ul><p>面试题：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除时注意下标和对象的区别</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">list.add(<span class="number">1</span>);</span><br><span class="line">list.add(<span class="number">2</span>); <span class="comment">//删除</span></span><br><span class="line">list.add(<span class="number">3</span>);</span><br><span class="line">updateList(list);</span><br><span class="line">System.out.println(list);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">updateList</span><span class="params">(List list)</span></span>&#123;</span><br><span class="line"><span class="comment">//list.remove(2); //下标2 </span></span><br><span class="line">list.remove(<span class="keyword">new</span> Integer(<span class="number">2</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5、Set接口"><a href="#5、Set接口" class="headerlink" title="5、Set接口"></a>5、Set接口</h2><ul><li>set：存储无序的，不可重复的数据</li></ul><p><strong>核心实现类：</strong></p><ul><li>HashSet:<ul><li>LinkedHashSet（子类）</li></ul></li><li>TreeSet</li></ul><p><strong>核心实现类特点：</strong></p><ul><li>HashSet：所为set接口的主要实现类，线程不安全的，可以存储null值</li><li>LinkedHashSet：作为hashSet的子类，遍历数据时，可以按照添加的顺序遍历，对于操作频繁的元素，可以考虑使用，提供效率。LinkedHashSet的存储效率高于HashSet</li><li>TreeSet：可以按照添加对象的属性进行排序。要求添加的元素为同一类型</li></ul><p>实现原理：</p><p>添加的过程描述如：</p><ol><li>当向 HashSet 集合中存入一个元素时，HashSet 会调用该对象的 hashCode() 方法 来得到该对象<br>的 hashCode 值，然后根据 hashCode 值，通过某种散列函数决定该对象 在 HashSet 底层数组<br>中的存储位置。（这个散列函数会与底层数组的长度相计算得到在 数组中的下标，并且这种散列<br>函数计算还尽可能保证能均匀存储元素，越是散列分布， 该散列函数设计的越好）</li><li>如果两个元素的hashCode()值相等，会再继续调用equals方法，如果equals方法结果 为true，添<br>加失败；如果为false，那么会保存该元素，但是该数组的位置已经有元素了， 那么会通过链表的<br>方式继续链接</li><li>如果两个元素的 equals() 方法返回 true，但它们的 hashCode() 返回值不相 等，hashSet 将会把<br>它们存储在不同的位置，但依然可以添加成功</li></ol><p>理解无序性，不可重复：</p><ol><li>无序性：表示存储的数据在底层的数组中并非按照数组的索引顺序添加，而是根据数据的哈希值决定</li><li>不可重复：为了保证元素的不可重写，我们需要重写hashcode和equals方法</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Set set = <span class="keyword">new</span> HashSet();</span><br><span class="line">set.add(<span class="number">456</span>);</span><br><span class="line">set.add(<span class="number">123</span>);</span><br><span class="line">set.add(<span class="number">123</span>); <span class="comment">//重复的不能添加</span></span><br><span class="line">set.add(<span class="string">"aa"</span>);</span><br><span class="line"><span class="comment">//set.add("aa");</span></span><br><span class="line"><span class="comment">//set.add(new String("abc"));</span></span><br><span class="line"><span class="comment">//set.add(new String("abc")); //string重写hashcode和equeals</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//需要重写hashcode和equeals方法保证元素唯一性</span></span><br><span class="line">set.add(<span class="keyword">new</span> Person(<span class="string">"tom"</span>, <span class="number">20</span>)); </span><br><span class="line">set.add(<span class="keyword">new</span> Person(<span class="string">"tom"</span>, <span class="number">20</span>));</span><br><span class="line"></span><br><span class="line">System.out.println(set);</span><br></pre></td></tr></table></figure><p>总结：（面试）</p><ol><li>HashSet 是 Set 接口的典型实现，大多数时候使用 Set 集合时都使用这个实现类</li><li>Set接口是Collection的子接口，set接口没有提供额外的方法</li><li>Set 判断两个对象是否相同不是使用 == 运算符，而是根据 equals() 方法</li><li>HashSet 按 Hash 算法来存储集合中的元素，因此具有很好的存取、查找、删除性能</li><li>HashSet 集合判断两个元素相等的标准：两个对象通过 hashCode() 方法比较相等，并且两个对象<br>的 equals() 方法返回值也相等</li><li>对于存放在Set容器中的对象，对应的类一定要重写equals() 和hashCode(Objectobj) 方法，以实<br>现对象相等规则 。即： “<strong>相等的对象必须具有相等的散列码“</strong></li></ol><p><strong>LinkedHashSet</strong></p><ul><li>LinkedHashSet 是 HashSet 的子类</li><li>LinkedHashSet 根据元素的 hashCode 值来决定元素的存储位置，但它同时使用<strong>双向链表维护元</strong><br><strong>素的次序</strong>，这使得元素看起来是以插入顺序保存的</li><li>LinkedHashSet插入性能略低于 HashSet，但在迭代访问 Set 里的全部元素时有很好的性能</li><li>LinkedHashSet 不允许集合元素重复</li></ul><p><strong>TreeSet</strong></p><ul><li>TreeSet 是 SortedSet 接口的实现类，TreeSet 可以确保集合元素处于排序状态</li><li>TreeSet底层使用 <strong>红黑树结构存储数据</strong></li><li>判断两个对象是否相等的唯一标准：<ul><li>自然排序使用： compareTo(Object obj) ==0判断相等，不再使用equals（）方法</li><li>定制排序使用：compare(Object o1, Object o2)判断相等， 不再使用equals（）方法</li><li>当需要把一个对象放入 TreeSet 中，重写该对象对应的 equals() 方法时，应保证该方法与<br>compareTo(Object obj) 方法有一致的结果：如果两个对象通过equals() 方法比较返回 true，<br>则通过 compareTo(Object obj) 方法比较应返回 0</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定制排序</span></span><br><span class="line">Comparator&lt;Person&gt; com = <span class="keyword">new</span> Comparator&lt;Person&gt;() &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Person o1, Person o2)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//姓名 a -- z</span></span><br><span class="line"><span class="comment">//return o1.getName().compareTo(o2.getName());</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// z--a 当姓名相同时，判断年龄</span></span><br><span class="line"><span class="keyword">int</span> res = o1.getName().compareTo(o2.getName());</span><br><span class="line"><span class="keyword">if</span>(res == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> -Integer.compare(o1.getAge(), o2.getAge());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> -res;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">TreeSet&lt;Person&gt; set = <span class="keyword">new</span> TreeSet&lt;Person&gt;(com);</span><br><span class="line">set.add(<span class="keyword">new</span> Person(<span class="string">"a"</span>, <span class="number">12</span>));</span><br><span class="line">set.add(<span class="keyword">new</span> Person(<span class="string">"b"</span>, <span class="number">20</span>));</span><br><span class="line">set.add(<span class="keyword">new</span> Person(<span class="string">"c"</span>, <span class="number">24</span>));</span><br><span class="line">set.add(<span class="keyword">new</span> Person(<span class="string">"d"</span>, <span class="number">26</span>));</span><br><span class="line"><span class="comment">//姓名相同，年龄不同为不同对象，需要添加到容器中，判断标准为compareTo</span></span><br><span class="line">set.add(<span class="keyword">new</span> Person(<span class="string">"e"</span>, <span class="number">10</span>)); </span><br><span class="line">set.add(<span class="keyword">new</span> Person(<span class="string">"e"</span>, <span class="number">33</span>));</span><br><span class="line"><span class="comment">//set.add("abc");</span></span><br><span class="line"></span><br><span class="line">System.out.println(set);</span><br></pre></td></tr></table></figure><h2 id="6、Map接口"><a href="#6、Map接口" class="headerlink" title="6、Map接口"></a>6、Map接口</h2><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- <span class="keyword">map</span>：双列数据、存<span class="built_in">储key</span>-<span class="keyword">value</span>对数据</span><br></pre></td></tr></table></figure><p>核心实现类：</p><ul><li>HashMap<ul><li>LinkedHashMap(子类)</li></ul></li><li>TreeMap</li><li>Hashtable<ul><li>Properties（子类）</li></ul></li></ul><p>实现类特点：</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- <span class="keyword">HashMap</span>：作为Map接口的主要实现类，线程不安全的，效率高。存储<span class="keyword">null</span>的<span class="built_in">key</span>和value，底层使用数组+链表（jdk7）， 数组+链表+红黑树（jdk8）</span><br><span class="line">- LinkedHashMap：实现了遍历<span class="built_in">map</span>集合中元素的顺序和添加的顺序一直。以为在原有的<span class="keyword">HashMap</span>的底层结构中添加了一对指针，指向前一个和后一个元素。所以对于频繁的操作，此执行效率高于<span class="keyword">HashMap</span></span><br><span class="line">- TreeMap：可以按照<span class="built_in">key</span>-value对进行排序，实现排序遍历，此时考虑<span class="built_in">key</span>的自然排序和定制排序的使用</span><br><span class="line">- Hashtable：作为古老的实现类，线程安全的，效率低，不能存储<span class="keyword">null</span>的<span class="built_in">key</span>或value</span><br><span class="line">- Properties：常用来作为配置文件，<span class="built_in">key</span>和value都是<span class="keyword">String</span>类型</span><br></pre></td></tr></table></figure><h3 id="6-1-Map结构的理解"><a href="#6-1-Map结构的理解" class="headerlink" title="6.1 Map结构的理解"></a>6.1 Map结构的理解</h3><p>map结构的理解：</p><ul><li>Map中的key是无序的，不能重复的。使用set存储所有的key  ---- &gt;key所在的类必须重写equals和hashcode方法</li><li>Map中的value是无序的，可重复的，使用collection存储所有的value  ---&gt; value所在的类重写equals()方法</li><li>一个键值对： key-value构成了一个Entry对象</li><li>Map中的Entry是无序的，不可重复的，使用set存储所有的entry</li></ul><h3 id="6-2-HashMap的底层实现原理"><a href="#6-2-HashMap的底层实现原理" class="headerlink" title="6.2 HashMap的底层实现原理"></a>6.2 HashMap的底层实现原理</h3><p>JDK8：HashMap使用的是数组+链表+红黑树实现</p><p>JDK7：HashMap使用的是数组+链表</p><p>源码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="6-3、LinkedHashMap"><a href="#6-3、LinkedHashMap" class="headerlink" title="6.3、LinkedHashMap"></a>6.3、LinkedHashMap</h3><ul><li>在HashMap的存储结构的基础上，使用了一对双向链表来记录添加的元素顺序</li><li>迭代顺序和添加顺序一致</li></ul><p><strong>常用方法：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Map map = <span class="keyword">new</span> HashMap();</span><br><span class="line"><span class="comment">//添加</span></span><br><span class="line">map.put(<span class="number">123</span>, <span class="string">"AA"</span>);</span><br><span class="line">map.put(<span class="number">456</span>, <span class="string">"BB"</span>);</span><br><span class="line">map.put(<span class="number">789</span>, <span class="string">"CC"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//修改</span></span><br><span class="line">map.put(<span class="number">123</span>, <span class="string">"dd"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">Map map1 = <span class="keyword">new</span> HashMap();</span><br><span class="line">map1.put(<span class="string">"cc"</span>, <span class="number">123</span>);</span><br><span class="line">map1.put(<span class="string">"dd"</span>, <span class="number">456</span>);</span><br><span class="line">map.putAll(map1);</span><br><span class="line"></span><br><span class="line"><span class="comment">//remove</span></span><br><span class="line">Object obj = map.remove(<span class="string">"cc"</span>);</span><br><span class="line">System.out.println(obj);</span><br><span class="line"></span><br><span class="line"><span class="comment">//clear</span></span><br><span class="line">map.clear();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">System.out.println(map);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Map map = <span class="keyword">new</span> HashMap();</span><br><span class="line">map.put(<span class="string">"AA"</span>, <span class="number">123</span>);</span><br><span class="line">map.put(<span class="number">45</span>, <span class="number">123</span>);</span><br><span class="line">map.put(<span class="string">"bb"</span>, <span class="number">67</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//get（）</span></span><br><span class="line">Object value = map.get(<span class="string">"AA"</span>);</span><br><span class="line">System.out.println(value);</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断key是否存在</span></span><br><span class="line"><span class="keyword">boolean</span> key = map.containsKey(<span class="string">"bb"</span>);</span><br><span class="line">System.out.println(key);</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断value</span></span><br><span class="line"><span class="keyword">boolean</span> containsValue = map.containsValue(<span class="number">67</span>);</span><br><span class="line">System.out.println(containsValue);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Empty：内容空   null：没有地址</span></span><br><span class="line">map.clear();  </span><br><span class="line">System.out.println(map.isEmpty());</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">Map map = <span class="keyword">new</span> HashMap();</span><br><span class="line">map.put(<span class="string">"AA"</span>, <span class="number">123</span>);</span><br><span class="line">map.put(<span class="number">45</span>, <span class="number">123</span>);</span><br><span class="line">map.put(<span class="string">"bb"</span>, <span class="number">67</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历所有的key</span></span><br><span class="line">Set keySet = map.keySet();</span><br><span class="line">Iterator iterator = keySet.iterator();</span><br><span class="line"><span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">    Object next = iterator.next();</span><br><span class="line">    System.out.print(next);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">"\n---------"</span>);</span><br><span class="line"><span class="comment">//遍历所有的value</span></span><br><span class="line">Collection values = map.values();</span><br><span class="line"><span class="keyword">for</span>(Object obj:values)&#123;</span><br><span class="line">    System.out.print(obj);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">"\n---------"</span>);</span><br><span class="line"><span class="comment">//方式一：entrySet </span></span><br><span class="line">Set entrySet = map.entrySet();</span><br><span class="line">Iterator iterator2 = entrySet.iterator();</span><br><span class="line"><span class="keyword">while</span>(iterator2.hasNext())&#123;</span><br><span class="line">    Object next = iterator2.next();</span><br><span class="line">    <span class="comment">//entry/node</span></span><br><span class="line">    Entry entry = (Entry)next;</span><br><span class="line">    System.out.println(entry.getKey() + <span class="string">"---"</span> + entry.getValue());</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">"\n---------"</span>);</span><br><span class="line"><span class="comment">//方式二:</span></span><br><span class="line">Set keySet2 = map.keySet(); <span class="comment">//所有的key</span></span><br><span class="line">Iterator iterator3 = keySet2.iterator(); </span><br><span class="line"><span class="keyword">while</span>(iterator3.hasNext())&#123;<span class="comment">//遍历所有key</span></span><br><span class="line">    Object key = iterator3.next(); <span class="comment">//key</span></span><br><span class="line">    Object value = map.get(key); <span class="comment">//根据key获取value</span></span><br><span class="line">    System.out.println(key + <span class="string">"---"</span> + value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总结：</p><p>添加：put（Object key, Object vlaue）</p><p>修改：put（Object key, Object vlaue）</p><p>删除：remove(Object key)</p><p>查询：get（object key）</p><p>长度：size（）</p><p>遍历： keySet () / values() /  entrySet() ---key-value = entry</p><h3 id="6-4-TreeMap"><a href="#6-4-TreeMap" class="headerlink" title="6.4 TreeMap"></a>6.4 TreeMap</h3><ul><li>TreeMap可以实现所有的kev-value处于有序状态</li><li>TreeMap底层使用<strong>红黑树数据结构</strong>存储</li><li>TreeMap的key的排序：<ul><li>自然排序：TreeMap的所有的key必须实现Comparable接口，而且所有的key必须为同一类对象，否则抛出ClassCastException异常</li><li>定制排序：创建TreeMap时，传入一个Compartor接口的实现类，该对象负责对TreeMap中的所有key进行排序</li></ul></li><li>TreeMap判断两个key相等的标准：两个key通过compareTo()或compare() ==  0</li></ul><p>演示代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Person</span>&gt;</span>&#123;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line"><span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">"Person [name="</span> + name + <span class="string">", age="</span> + age + <span class="string">"]"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Person o)</span> </span>&#123;</span><br><span class="line"><span class="comment">//姓名自然顺序 0 , 1  -1</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>.getName().compareTo(o.getName());</span><br><span class="line"><span class="comment">//return this.getName() - o.getName();</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">TreeMap map = <span class="keyword">new</span> TreeMap();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> String();</span><br><span class="line"><span class="comment">//方式一：</span></span><br><span class="line"><span class="comment">//map.put("c", 3);</span></span><br><span class="line"><span class="comment">//map.put("b", 3);</span></span><br><span class="line"><span class="comment">//map.put("d", 3);</span></span><br><span class="line"><span class="comment">//map.put("e", 3);</span></span><br><span class="line"><span class="comment">//map.put("a", 3);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">map.put(<span class="keyword">new</span> Person(<span class="string">"a"</span>,<span class="number">20</span>), <span class="number">90</span>);</span><br><span class="line">map.put(<span class="keyword">new</span> Person(<span class="string">"c"</span>,<span class="number">20</span>), <span class="number">90</span>);</span><br><span class="line">map.put(<span class="keyword">new</span> Person(<span class="string">"d"</span>,<span class="number">20</span>), <span class="number">90</span>);</span><br><span class="line">map.put(<span class="keyword">new</span> Person(<span class="string">"b"</span>,<span class="number">20</span>), <span class="number">90</span>);</span><br><span class="line">map.put(<span class="keyword">new</span> Person(<span class="string">"f"</span>,<span class="number">20</span>), <span class="number">90</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(map);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">TreeMap map = <span class="keyword">new</span> TreeMap(<span class="keyword">new</span> Comparator&lt;Person&gt;() &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Person o1, Person o2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> -o1.getName().compareTo(o2.getName());</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">map.put(<span class="keyword">new</span> Person(<span class="string">"a"</span>,<span class="number">20</span>), <span class="number">90</span>);</span><br><span class="line">map.put(<span class="keyword">new</span> Person(<span class="string">"c"</span>,<span class="number">20</span>), <span class="number">90</span>);</span><br><span class="line">map.put(<span class="keyword">new</span> Person(<span class="string">"d"</span>,<span class="number">20</span>), <span class="number">90</span>);</span><br><span class="line">map.put(<span class="keyword">new</span> Person(<span class="string">"b"</span>,<span class="number">20</span>), <span class="number">90</span>);</span><br><span class="line">map.put(<span class="keyword">new</span> Person(<span class="string">"f"</span>,<span class="number">20</span>), <span class="number">90</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">System.out.println(map);</span><br></pre></td></tr></table></figure><h3 id="6-5-Properties"><a href="#6-5-Properties" class="headerlink" title="6.5 Properties"></a>6.5 Properties</h3><ul><li>Properties该对象是属性文件，常用来保存配置信息</li><li>属性文件中的内容都为String类型</li></ul><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">FileInputStream input = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//System.out.println(new File("/java_collection/src/db.properties").getPath());</span></span><br><span class="line">        <span class="comment">//创建文件输入流</span></span><br><span class="line">        input = <span class="keyword">new</span> FileInputStream(<span class="string">"db.properties"</span>);</span><br><span class="line">        <span class="comment">//创建配置文件对象</span></span><br><span class="line">        Properties pro = <span class="keyword">new</span> Properties();</span><br><span class="line">        <span class="comment">//加载配置文件信息</span></span><br><span class="line">        pro.load(input); <span class="comment">//配置信息加载到pro对象中</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取配置文件对象中保存的数据</span></span><br><span class="line">        String user = pro.getProperty(<span class="string">"user"</span>);</span><br><span class="line">        String password = pro.getProperty(<span class="string">"password"</span>);</span><br><span class="line">        System.out.println(user + <span class="string">"---"</span> + password);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(input != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                input.close();</span><br><span class="line">                input = <span class="keyword">null</span>; <span class="comment">//gc</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="7、Collections工具类"><a href="#7、Collections工具类" class="headerlink" title="7、Collections工具类"></a>7、Collections工具类</h2><ul><li>Collections是操作Set、List、Map集合的工具类</li><li>Collection中提供了一系列的静态方法对集合中的元素进行排序、查询、修改等操作，还提供了对集合中对象设置不可变性，同步等方法</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">list.add(<span class="number">123</span>);</span><br><span class="line">list.add(<span class="number">23</span>);</span><br><span class="line">list.add(<span class="number">45</span>);</span><br><span class="line">list.add(<span class="number">33</span>);</span><br><span class="line">list.add(<span class="number">78</span>);</span><br><span class="line">list.add(<span class="number">33</span>);<span class="comment">//6</span></span><br><span class="line"></span><br><span class="line">System.out.println(list);</span><br><span class="line"></span><br><span class="line"><span class="comment">//反转</span></span><br><span class="line"><span class="comment">//Collections.reverse(list);</span></span><br><span class="line"><span class="comment">//随机排序</span></span><br><span class="line"><span class="comment">//Collections.shuffle(list);</span></span><br><span class="line"><span class="comment">//自然排序</span></span><br><span class="line"><span class="comment">//Collections.sort(list);</span></span><br><span class="line"><span class="comment">//交换</span></span><br><span class="line"><span class="comment">//Collections.swap(list, 1, 2);</span></span><br><span class="line"><span class="comment">//返回指定集合中指定的元素出现的次数</span></span><br><span class="line"><span class="comment">//int i = Collections.frequency(list, 33);</span></span><br><span class="line"><span class="comment">//System.out.println(i);</span></span><br><span class="line"><span class="comment">//System.out.println(list);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//容器初始大小为6，元素个数为零 size() == 0</span></span><br><span class="line"><span class="comment">//List dest = new ArrayList(6);</span></span><br><span class="line"><span class="comment">//copy</span></span><br><span class="line">List dest = Arrays.asList(<span class="keyword">new</span> Object[list.size()]);</span><br><span class="line">Collections.copy(dest, list);</span><br><span class="line">System.out.println(dest);</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回线程安全的list</span></span><br><span class="line">List list2 = Collections.synchronizedList(list);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;集合&quot;&gt;&lt;a href=&quot;#集合&quot; class=&quot;headerlink&quot; title=&quot;集合&quot;&gt;&lt;/a&gt;集合&lt;/h1&gt;&lt;h2 id=&quot;1、集合框架概述&quot;&gt;&lt;a href=&quot;#1、集合框架概述&quot; class=&quot;headerlink&quot; title=&quot;1、集合框架概述&quot;
      
    
    </summary>
    
      <category term="javase" scheme="https://theme-next.org/categories/javase/"/>
    
    
      <category term="javase" scheme="https://theme-next.org/tags/javase/"/>
    
  </entry>
  
  <entry>
    <title>多线程</title>
    <link href="https://theme-next.org/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    <id>https://theme-next.org/Java多线程/</id>
    <published>2019-08-10T06:53:52.000Z</published>
    <updated>2019-08-10T07:02:52.618Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Java多线程"><a href="#Java多线程" class="headerlink" title="Java多线程"></a>Java多线程</h1><h2 id="1、程序、进程、线程"><a href="#1、程序、进程、线程" class="headerlink" title="1、程序、进程、线程"></a>1、程序、进程、线程</h2><ul><li><p>程序：完成特定任务，编写的一组特定的指令集合。 静态代码 ---- 静态</p></li><li><p>进程：正在运行的一个程序。有其自身的产生，运行、消亡的过程（生命周期） --- 动态</p><ul><li>系统在运行时会为每个不同的程序分配不同的内存区域，进程作为资源的分配单位。</li></ul></li><li><p>线程：进程的进一步细分，是程序内部的一条执行路径。</p><ul><li>一个进程同一时间内执行多个线程，就是多线程。</li><li>每个进程有独立的运行栈和计数器。切换的开销少。</li><li>多个线程共享相同的内存单元/内存地址，从同一个堆中分配对象，访问相同的变量和对象。存在安全隐患</li></ul></li></ul><p>  内存结构图（了解）：</p><p>  1](/Users/jiangwei/hexo/source/_posts/多线程/timg.jpeg)</p><p><strong>多线程：</strong></p><p><img src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1564626804148.png" alt="1564626804148"></p><p><strong>并行、并发</strong></p><ul><li>并行：多个cpu同时执行多个任务。</li><li>并发：一个cpu同时执行多个任务，时间片段</li></ul><p><strong>单核、多核</strong></p><ul><li>单核：执行多线程时，一个单位时间内只能执行一个线程，只是切换时间特别短，宏观看起来就是同时执行对个线程。</li><li>多核：多个内核单位时间内同时执行多个线程。</li></ul><h2 id="2、线程创建和使用（重点）"><a href="#2、线程创建和使用（重点）" class="headerlink" title="2、线程创建和使用（重点）"></a>2、线程创建和使用（重点）</h2><p><strong>多线的使用场景：</strong></p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>程序需要同时执行多个任务</span><br><span class="line"><span class="bullet">- </span>程序需要实现一些特殊的等待任务，如：用户输入，文件的读写，网络操作，搜索等需要后台执行的程序时。</span><br></pre></td></tr></table></figure><p><strong>线程的创建和启动</strong></p><p>两种方式：</p><ol><li>继承java.lang.Thread</li><li>实现Runnable接口</li></ol><p>多线程创建方式一：(继承)</p><p>步骤：1. 创建一个继承Thread的子类</p><ol start="2"><li>重写Thread的Run()方法<ol start="3"><li>创建Thread子类的对象</li><li>通过此对象调用start（）方法</li></ol></li></ol><p>示例代码：(输出0-99个数)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">//. 创建一个继承Thread的子类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.重写Thread的Run()方法</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123; <span class="comment">//线程完成的业务逻辑</span></span><br><span class="line"><span class="comment">//输出0-99个数</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">System.out.println( Thread.currentThread().getName() + <span class="string">" ： "</span> + i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//main方法运行后会开启一个主线程</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//3.创建Thread子类的对象 --- 创建分线程</span></span><br><span class="line">MyThread t1 = <span class="keyword">new</span> MyThread();</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.通过此对象调用start（）方法</span></span><br><span class="line">t1.start(); <span class="comment">//start最后调用run</span></span><br><span class="line"><span class="comment">//不能直接调用run(),此刻没有实现多线程调用</span></span><br><span class="line"><span class="comment">//t1.run();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//此刻或抛出IllegalThreadStateException ,不能再次调用start方法，启动线程，必须重写创建线程</span></span><br><span class="line"><span class="comment">//t1.start(); </span></span><br><span class="line"><span class="keyword">new</span> MyThread().start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">////输出0-99个数</span></span><br><span class="line"><span class="comment">//for (int i = 0; i &lt; 100; i++) &#123;</span></span><br><span class="line"><span class="comment">//System.out.println("main：" + i);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line">System.out.println(<span class="string">"------main-------"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>说明：</p><ul><li>如果手动调用run（）方法，则是普通方法调用，没有启动多线程</li><li>run()方法由jvm调用，什么时候调用，执行过程的控制都有操作系统的CPU调度决定。</li><li>启动多线程必须调用start（）方法</li><li>一个线程对象只能调用一次start（）方法，如果重复调用则抛出llegalThreadStateException异常</li></ul><p>练习： 创建两个分线程，一个输出100之内的偶数，一个输出100之内的奇数。</p><p><strong>线程常用方法：</strong></p><table><thead><tr><th></th><th>方法名称</th><th>说明</th></tr></thead><tbody><tr><td></td><td>getName()</td><td>获取线程名称</td></tr><tr><td></td><td><strong>run</strong>()</td><td>线程在被调度时执行方法</td></tr><tr><td></td><td><strong>setName</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" target="_blank" rel="noopener">String</a> name)</td><td>设置线程名称</td></tr><tr><td></td><td>sleep(long millis)</td><td>让当前线程指定的毫秒数暂停</td></tr><tr><td></td><td>start()</td><td>启动线程</td></tr><tr><td></td><td></td><td></td></tr></tbody></table><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.thread;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread2</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.sleep(<span class="number">10</span>);<span class="comment">//</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">": "</span> + i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//if(i % 20 == 0)&#123;</span></span><br><span class="line"><span class="comment">//yield(); //释放执行权限，交给cpu，让cpu从新分配资源（切换线程），</span></span><br><span class="line"><span class="comment">////但有可能重新分配给自己</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">MyThread2 t1 = <span class="keyword">new</span> MyThread2();</span><br><span class="line"><span class="comment">//设置分线程名称</span></span><br><span class="line">t1.setName(<span class="string">"线程一 "</span>);</span><br><span class="line">t1.start();</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置主线程名称</span></span><br><span class="line">Thread.currentThread().setName(<span class="string">"主线程："</span>);</span><br><span class="line"><span class="comment">//主线程业务</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span>(i % <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">": "</span> + i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(i == <span class="number">20</span>)&#123;</span><br><span class="line"><span class="keyword">try</span> </span><br><span class="line">                    <span class="comment">//注意：此刻主线程调用分线程t1</span></span><br><span class="line">t1.join();<span class="comment">//(让步)主线程将执行权限分给t1分线程，直达t1分线程执行完毕后再切换回来继续执行</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(t1.isAlive()); <span class="comment">//线程消失</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>线程调度：</strong></p><p>调度策略</p><ul><li>时间片：分时段执行</li><li>抢占式：高优先级可抢占低优先级的线程</li></ul><p>调度方法</p><ul><li>同优先级线程组成先进先出队列（先到先服务），使用时间片策略</li><li>对高优先级，使用优先调度的抢占式策略</li></ul><p>优先级等级</p><ul><li>MAX_PRIORITY ：10</li><li>MIN _PRIORITY ：1</li><li>NORM_PRIORITY ：5</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.thread;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ThreadDemo</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">System.out.println(</span><br><span class="line">Thread.currentThread().getName() + <span class="string">":"</span> + Thread.currentThread().getPriority() + <span class="string">":"</span> + i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PriorityTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">// 创建子线程</span></span><br><span class="line">ThreadDemo t1 = <span class="keyword">new</span> ThreadDemo();</span><br><span class="line">t1.setName(<span class="string">"子线程"</span>);</span><br><span class="line"><span class="comment">// 设置优先级，只是概率高</span></span><br><span class="line">t1.setPriority(Thread.MAX_PRIORITY);</span><br><span class="line">t1.start();</span><br><span class="line"></span><br><span class="line">Thread.currentThread().setName(<span class="string">"主线程"</span>);</span><br><span class="line">Thread.currentThread().setPriority(Thread.MIN_PRIORITY);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">System.out.println(</span><br><span class="line">Thread.currentThread().getName() + <span class="string">":"</span> + Thread.currentThread().getPriority() + <span class="string">":"</span> + i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>演示代码：（三个窗口买票，总票数为100张）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">//三个窗口买票，总票数为100张</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line"><span class="comment">//定义总票数</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.sleep(<span class="number">100</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(ticket &gt; <span class="number">0</span>)&#123;</span><br><span class="line">System.out.println(getName() + <span class="string">"： 买票， 票号为："</span> + ticket);</span><br><span class="line">ticket--;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WindowTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Window t1 = <span class="keyword">new</span> Window();</span><br><span class="line">Window t2 = <span class="keyword">new</span> Window();</span><br><span class="line">Window t3 = <span class="keyword">new</span> Window();</span><br><span class="line"></span><br><span class="line">t1.setName(<span class="string">"1号窗口"</span>);</span><br><span class="line">t2.setName(<span class="string">"2号窗口"</span>);</span><br><span class="line">t3.setName(<span class="string">"3号窗口"</span>);</span><br><span class="line"></span><br><span class="line">t1.start();</span><br><span class="line">t2.start();</span><br><span class="line">t3.start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>问题：</p><ul><li>每个窗口卖的票数都是100张，可更改为static的方式实现，三个线程卖100张票的情况，但依然出现重票现象。</li><li>关于资源共享的问题，可以使用Runnable方式实现。</li></ul><p><strong>多线程的创建方式二：（实现Runnable接口）</strong></p><p>步骤：</p><ol><li>创建一个实现Runnable接口的实现类</li><li>重写实现类中的run()方法</li><li>创建实现类对象</li><li>创建Thread对象，并使用实现类作为Thread构造器的入参对象</li><li>调用Thread对象的start（）方法</li></ol><p>示例代码：（使用接口实现多线程）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.runnable;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1创建一个实现Runnable接口的实现类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThared</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.重写实现类中的run()方法</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">": "</span> + i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RunnableTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//3.创建实现类对象</span></span><br><span class="line">MyThared m = <span class="keyword">new</span> MyThared();</span><br><span class="line"><span class="comment">//4.创建Thread对象，并使用实现类作为Thread构造器的入参对象</span></span><br><span class="line">Thread t = <span class="keyword">new</span> Thread(m);</span><br><span class="line"><span class="comment">//5.调用Thread对象的start（）方法</span></span><br><span class="line">t.start();</span><br><span class="line"></span><br><span class="line">Thread t2 = <span class="keyword">new</span> Thread(m);</span><br><span class="line">t2.start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>示例代码：（三个窗口买票，总票数为100张）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.runnable;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//总票数</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(ticket &gt; <span class="number">0</span>)&#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"卖票， 票号为："</span> + ticket);</span><br><span class="line">ticket--;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WindowTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Window w = <span class="keyword">new</span> Window();</span><br><span class="line"></span><br><span class="line">Thread t1 = <span class="keyword">new</span> Thread(w);</span><br><span class="line">Thread t2 = <span class="keyword">new</span> Thread(w);</span><br><span class="line">Thread t3 = <span class="keyword">new</span> Thread(w);</span><br><span class="line"></span><br><span class="line">t1.setName(<span class="string">"窗口一"</span>);</span><br><span class="line">t2.setName(<span class="string">"窗口二"</span>);</span><br><span class="line">t3.setName(<span class="string">"窗口三"</span>);</span><br><span class="line"></span><br><span class="line">t1.start();</span><br><span class="line">t2.start();</span><br><span class="line">t3.start();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>两种方式说明：</p><p>​    相同：</p><p>​            两种方式都需要重写run()方法，需要实现的业务代码都写在run方法中</p><p>   实现接口的方便之处：</p><p>​        避免的单继承的局限性</p><p>​        多个线程可以共享同一个接口中的对象，非常适合多线程共享资源的情况</p><p>​         开发中优先使用</p><h2 id="3、线程生命周期（理解）"><a href="#3、线程生命周期（理解）" class="headerlink" title="3、线程生命周期（理解）"></a>3、线程生命周期（理解）</h2><p>JDK 中用Thread.State 类定义了 线程的几种</p><ul><li>新建：当一个Thread类或其子类的对象被声明并创建时，新生的线程对象处于新建状态</li><li>就绪：处于新建状态的线程被start()后，将进入线程队列等待CPU时间片此时它已具备了运行的条<br>件，只是没分配到CPU资源</li><li>运行：当就绪的线程被调度并获得CPU资源时,便进入运行状态， run()方法定义了线程的操作和功<br>能</li><li>阻塞：在某种特殊情况下，被人为挂起或执行输入输出操作时，让出 CPU 并临时中止自己的执<br>行，进入阻塞状态</li><li>死亡：线程完成了它的全部工作或线程被提前强制性地中止或出现异常导致结束</li></ul><p>线程生命周期;</p><p><img src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1564717060733.png" alt="1564717060733"></p><h2 id="4、线程同步（重点）"><a href="#4、线程同步（重点）" class="headerlink" title="4、线程同步（重点）"></a>4、线程同步（重点）</h2><p>问题：</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>多个线程执行的不确定性引起的结果不稳定</span><br><span class="line"><span class="bullet">- </span>多个线程对同一资源的共享，会造成操作的不完整性，破坏数据</span><br></pre></td></tr></table></figure><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.runnable;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//总票数</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.sleep(<span class="number">100</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(ticket &gt; <span class="number">0</span>)&#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"卖票， 票号为："</span> + ticket);</span><br><span class="line">ticket--;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WindowTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Window w = <span class="keyword">new</span> Window();</span><br><span class="line"></span><br><span class="line">Thread t1 = <span class="keyword">new</span> Thread(w);</span><br><span class="line">Thread t2 = <span class="keyword">new</span> Thread(w);</span><br><span class="line">Thread t3 = <span class="keyword">new</span> Thread(w);</span><br><span class="line"></span><br><span class="line">t1.setName(<span class="string">"窗口一"</span>);</span><br><span class="line">t2.setName(<span class="string">"窗口二"</span>);</span><br><span class="line">t3.setName(<span class="string">"窗口三"</span>);</span><br><span class="line"></span><br><span class="line">t1.start();</span><br><span class="line">t2.start();</span><br><span class="line">t3.start();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>问题：</p><ul><li>买票过程中出现了错票和重票---线程安全问题</li><li>当某个线程再操作车票的过程中，尚未完成，其他线程也参与进来，所以也操作车票。</li><li>当多条语句在操作同一个线程共享数据时，一个线程对多条语句只执行了一部分，还没有 执行<br>完，另一个线程参与进来执行。导致共享数据的错误</li></ul><p>如何解决：</p><ul><li>对多条操作共享数据的语句，只能让一个线程都执行完，在执行过程中，其他线程不可以参与执行</li><li>当一个线程使用操作ticke的时候，其它线程先不参与进来，直到操作完成其他线程再参与进来，<br>也就是说在多线程在操作同一个资源时要排队。</li><li>使用<strong>同步代码块</strong>或<strong>同步方法</strong>解决</li></ul><p><strong>Synchronized的使用：</strong></p><p> java对于多线程的安全问题提供了专业的解决方式：同步机制（锁）</p><p>使用方式：</p><p>​    同步代码块：</p><p>​       synchronized(对象) {</p><p>​         //需要被同步的代码</p><p>​       }</p><p>示例代码：（线程同步，同步代码块，使用Runnable接口）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.runnable;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//总票数</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">private</span> Object obj = <span class="keyword">new</span> Object();</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line"><span class="comment">//try &#123;</span></span><br><span class="line"><span class="comment">//Thread.sleep(100);</span></span><br><span class="line"><span class="comment">//&#125; catch (InterruptedException e) &#123;</span></span><br><span class="line"><span class="comment">//e.printStackTrace();</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line">            <span class="comment">//注意线程同步必须使用同一把锁</span></span><br><span class="line"><span class="comment">//synchronized (obj) &#123;</span></span><br><span class="line"><span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"卖票， 票号为："</span> + ticket);</span><br><span class="line">ticket--;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WindowTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Window w = <span class="keyword">new</span> Window();</span><br><span class="line"></span><br><span class="line">Thread t1 = <span class="keyword">new</span> Thread(w);</span><br><span class="line">Thread t2 = <span class="keyword">new</span> Thread(w);</span><br><span class="line">Thread t3 = <span class="keyword">new</span> Thread(w);</span><br><span class="line"></span><br><span class="line">t1.setName(<span class="string">"窗口一"</span>);</span><br><span class="line">t2.setName(<span class="string">"窗口二"</span>);</span><br><span class="line">t3.setName(<span class="string">"窗口三"</span>);</span><br><span class="line"></span><br><span class="line">t1.start();</span><br><span class="line">t2.start();</span><br><span class="line">t3.start();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>示例代码：（线程同步，同步代码块，使用继承Thread）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.syn;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window2</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 总票数</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Object obj = <span class="keyword">new</span> Object();</span><br><span class="line">     </span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line"><span class="comment">//synchronized (this) &#123;</span></span><br><span class="line"><span class="keyword">synchronized</span> (Window2.class) &#123; <span class="comment">//this代表t1,t2,t3,不能使用</span></span><br><span class="line"><span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.sleep(<span class="number">100</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"卖票， 票号为："</span> + ticket);</span><br><span class="line">ticket--;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WindowTest2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Window2 t1 = <span class="keyword">new</span> Window2();</span><br><span class="line">Window2 t2 = <span class="keyword">new</span> Window2();</span><br><span class="line">Window2 t3 = <span class="keyword">new</span> Window2();</span><br><span class="line"></span><br><span class="line">t1.setName(<span class="string">"窗口一"</span>);</span><br><span class="line">t2.setName(<span class="string">"窗口二"</span>);</span><br><span class="line">t3.setName(<span class="string">"窗口三"</span>);</span><br><span class="line"></span><br><span class="line">t1.start();</span><br><span class="line">t2.start();</span><br><span class="line">t3.start();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>说明：</p><ul><li>操作共享的数据代码，即需要被同步的代码</li><li>共享数据：多个线程需要共同操作的变量，比如我们的ticket变量</li><li>同步监视器：俗称锁，任何一个类的对象都可以充当锁<ul><li>多个线程必须用一把锁</li><li>使用接口的方式的多线程，可考虑使用this当“锁”，使用继承的方式可考虑使用当前class对象当“锁”</li></ul></li><li>同步方式解决的线程安全问题</li><li>同步方式在操作代码时，只能有一个线程参与，其他线程只能等待，相当于一个单线程的过程，效率低</li></ul><p><strong>2.使用同步方法实现同步机制：</strong></p><p>当同步的行为可以封装为一个方法时，就可以使用同步方法的方式</p><p>示例代码：（使用接口）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.syn;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window3</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 总票数</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">print();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//同步方法</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123; <span class="comment">//同步监视器(锁)？this</span></span><br><span class="line"><span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.sleep(<span class="number">100</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"卖票， 票号为："</span> + ticket);</span><br><span class="line">ticket--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WindowTest3</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Window3 w = <span class="keyword">new</span> Window3();</span><br><span class="line"></span><br><span class="line">Thread t1 = <span class="keyword">new</span> Thread(w);</span><br><span class="line">Thread t2 = <span class="keyword">new</span> Thread(w);</span><br><span class="line">Thread t3 = <span class="keyword">new</span> Thread(w);</span><br><span class="line"></span><br><span class="line">t1.setName(<span class="string">"窗口一"</span>);</span><br><span class="line">t2.setName(<span class="string">"窗口二"</span>);</span><br><span class="line">t3.setName(<span class="string">"窗口三"</span>);</span><br><span class="line"></span><br><span class="line">t1.start();</span><br><span class="line">t2.start();</span><br><span class="line">t3.start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>示例代码:（使用继承）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.syn;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window4</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 总票数</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">print();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123; <span class="comment">//锁是Window4.class</span></span><br><span class="line"><span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.sleep(<span class="number">100</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"卖票， 票号为："</span> + ticket);</span><br><span class="line">ticket--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WindowTest4</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Window4 t1 = <span class="keyword">new</span> Window4();</span><br><span class="line">Window4 t2 = <span class="keyword">new</span> Window4();</span><br><span class="line">Window4 t3 = <span class="keyword">new</span> Window4();</span><br><span class="line"></span><br><span class="line">t1.setName(<span class="string">"窗口一"</span>);</span><br><span class="line">t2.setName(<span class="string">"窗口二"</span>);</span><br><span class="line">t3.setName(<span class="string">"窗口三"</span>);</span><br><span class="line"></span><br><span class="line">t1.start();</span><br><span class="line">t2.start();</span><br><span class="line">t3.start();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>单例设计模式：（懒汉模式，线程安全）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.designpatterns;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 单例模式(饿汉模式)</span></span><br><span class="line"><span class="comment"> *         (懒汉模式)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//静态只有一份singleton</span></span><br><span class="line"><span class="comment">//private static Singleton singleton =  new Singleton();</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Singleton singleton = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//new Singleton();</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取当前类的实例</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//改进：</span></span><br><span class="line"><span class="comment">//方式一：</span></span><br><span class="line"><span class="comment">//synchronized (Singleton.class) &#123; </span></span><br><span class="line"><span class="comment">//if(singleton == null)&#123; </span></span><br><span class="line"><span class="comment">//singleton = new Singleton();</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//return singleton;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//方式二：效率高</span></span><br><span class="line"><span class="keyword">if</span>(singleton == <span class="keyword">null</span>)&#123;</span><br><span class="line"><span class="keyword">synchronized</span> (Singleton.class) &#123; </span><br><span class="line"><span class="keyword">if</span>(singleton == <span class="keyword">null</span>)&#123; </span><br><span class="line">singleton = <span class="keyword">new</span> Singleton();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> singleton;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>死锁：</p><ul><li>不同的线程分别占用对方需要的同步的资源不放弃，都在等待对象放弃自己需要的同步资源，就形成了线程的死锁，</li><li>出现死锁后，不会出现异常，不会出现提示，只是所有的线程都出于阻塞状态，无法继续</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.deadlock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeadLockTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">StringBuffer s1 = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">StringBuffer s2 = <span class="keyword">new</span> StringBuffer();</span><br><span class="line"></span><br><span class="line"><span class="comment">//分线程1</span></span><br><span class="line"><span class="keyword">new</span> Thread() &#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">synchronized</span> (s1) &#123;</span><br><span class="line">s1.append(<span class="string">"a"</span>);</span><br><span class="line">s2.append(<span class="string">"1"</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.sleep(<span class="number">100</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">synchronized</span> (s2) &#123;</span><br><span class="line">s1.append(<span class="string">"b"</span>);</span><br><span class="line">s2.append(<span class="string">"2"</span>);</span><br><span class="line">System.out.println(s1);</span><br><span class="line">System.out.println(s2);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//分线程2</span></span><br><span class="line"><span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">synchronized</span> (s2) &#123;</span><br><span class="line">s1.append(<span class="string">"c"</span>);</span><br><span class="line">s2.append(<span class="string">"3"</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.sleep(<span class="number">100</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">synchronized</span> (s1) &#123;</span><br><span class="line">s1.append(<span class="string">"d"</span>);</span><br><span class="line">s2.append(<span class="string">"4"</span>);</span><br><span class="line">System.out.println(s1);</span><br><span class="line">System.out.println(s2);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;).start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>解决方案：</p><p>​    专门的算法</p><p>​     尽量减少同步资源的定义</p><p>​     尽量避免嵌套同步</p><h2 id="5、线程通信"><a href="#5、线程通信" class="headerlink" title="5、线程通信"></a>5、线程通信</h2><ul><li>线程执行时互相交换执行。</li></ul><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.comm;</span><br><span class="line"></span><br><span class="line"><span class="comment">//让两个线程交替打印数字</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PrintCount</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> num = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line"><span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line"><span class="comment">//notify(); //唤醒线程</span></span><br><span class="line">notifyAll();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.sleep(<span class="number">100</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">": "</span> + num);</span><br><span class="line">num++;</span><br><span class="line"><span class="keyword">if</span>(num &gt;= <span class="number">30</span>)&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">wait(); <span class="comment">//线程等待，释放锁，object类中的方法，</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CommTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">PrintCount count = <span class="keyword">new</span> PrintCount();</span><br><span class="line"></span><br><span class="line">Thread t1 = <span class="keyword">new</span> Thread(count);</span><br><span class="line">Thread t2 = <span class="keyword">new</span> Thread(count);</span><br><span class="line">Thread t3 = <span class="keyword">new</span> Thread(count);</span><br><span class="line"></span><br><span class="line">t1.setName(<span class="string">"A"</span>);</span><br><span class="line">t2.setName(<span class="string">"B"</span>);</span><br><span class="line">t3.setName(<span class="string">"C"</span>);</span><br><span class="line"></span><br><span class="line">t1.start();</span><br><span class="line">t2.start();</span><br><span class="line">t3.start();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>说明：</p><ol><li>wait() ：执行到wait（）当前线程排队阻塞（等待），并释放同步监视器<br>notify()：执行到notify（）唤醒正在排队的阻塞线程，优先级最高的先唤醒<br>notifyAll (）：唤醒正在排队等待资源的所有线程结束等待</li><li>这三个方法只有在synchronized方法或synchronized代码块中才能使用，否则会报<br>java.lang.IllegalMonitorStateException异常</li><li>这三个方法必须是同一个同步监视器</li><li>这三个方法是定义在java.lang.Object对象当中的</li></ol><p><strong>经典例题：生产者/消费者问题</strong></p><p>问题描述：<br>    生产者(Productor)将产品交给店员(Clerk)，而消费者(Customer)从店员处获取一定数量的产品店<br>员一次只能持有固定数量的产品如果生产者试图生产更多的产品，店员会叫生产者停一下，如果店<br>中有空位放产品了再通知生产者继续生产；如果店中没有产品了，店员会告诉消费者等一下，如果<br>店中有产品了再通知消费者来取走产品。</p><p>分析问题：</p><p>​    1、是否为多线程？是。生产者线程、消费者线程</p><p>   2、是否有数据共享？有。店员手中的产品</p><p>   3、如何解决线程安全？使用同步机制（锁）</p><p>   4、是否涉及线程通信？ 是</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.woniu.product;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Clerk</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> productCount = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加产品</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">addProduct</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(productCount &lt; <span class="number">20</span>)&#123;</span><br><span class="line">productCount++;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">": 开始生产第"</span> + productCount + <span class="string">"个产品"</span>);</span><br><span class="line">    notify();</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">wait();</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//消费产品</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">getProduct</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(productCount &gt; <span class="number">0</span>)&#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">": 消费者开始消费第"</span> + productCount + <span class="string">"个产品"</span>);</span><br><span class="line">     productCount--;</span><br><span class="line">     notify();</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">//等待</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">wait();</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//生产者线程</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Producer</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> Clerk clerk;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Producer</span><span class="params">(Clerk clerk)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.clerk = clerk;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> <span class="comment">//创建产品</span></span><br><span class="line">System.out.println(<span class="string">"生產者生产产品 ： "</span>);</span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.sleep(<span class="number">10</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">clerk.addProduct();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//消费者线程</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Consumer</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> Clerk clerk;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Consumer</span><span class="params">(Clerk clerk)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.clerk = clerk;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//消费产品</span></span><br><span class="line">System.out.println(<span class="string">"消费者消费产品："</span>);</span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.sleep(<span class="number">100</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">clerk.getProduct();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Clerk c = <span class="keyword">new</span> Clerk();</span><br><span class="line"></span><br><span class="line">Thread t1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Producer(c));</span><br><span class="line">t1.setName(<span class="string">"生产者"</span>);</span><br><span class="line"></span><br><span class="line">Thread t2 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Consumer(c));</span><br><span class="line">t2.setName(<span class="string">"消费者"</span>);</span><br><span class="line"></span><br><span class="line">t1.start();</span><br><span class="line">t2.start();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Java多线程&quot;&gt;&lt;a href=&quot;#Java多线程&quot; class=&quot;headerlink&quot; title=&quot;Java多线程&quot;&gt;&lt;/a&gt;Java多线程&lt;/h1&gt;&lt;h2 id=&quot;1、程序、进程、线程&quot;&gt;&lt;a href=&quot;#1、程序、进程、线程&quot; class=&quot;head
      
    
    </summary>
    
      <category term="javase" scheme="https://theme-next.org/categories/javase/"/>
    
    
      <category term="javase" scheme="https://theme-next.org/tags/javase/"/>
    
  </entry>
  
  <entry>
    <title>Java基础知识（二）</title>
    <link href="https://theme-next.org/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <id>https://theme-next.org/Java基础知识（二）/</id>
    <published>2019-08-05T10:54:50.000Z</published>
    <updated>2019-08-05T11:03:19.108Z</updated>
    
    <content type="html"><![CDATA[<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><ol><li><p>定义：方法就是一段用来完成特定功能的代码片段，类似于其它语言的函数。方法用于定义该类或该类的实例的行为特征和功能实现。 方法是类和对象行为特征的抽象。方法很类似于面向过程中的函数。面向过程中，函数是最基本单位，整个程序由一个个函数调用组成。面向对象中，整个程序的基本单位是类，方法是从属于类和对象的。</p><p>对象名.方法名(实参列表)<br>方法的详细说明</p><ol><li>形式参数：在方法声明时用于接收外界传入的数据。<br>实参：调用方法时实际传给方法的数据。</li><li>返回值：方法在执行完毕后返还给调用它的环境的数据。</li><li>返回值类型：事先约定的返回值的数据类型，如无返回值，必须显示指定为为void。</li></ol></li></ol><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><ol><li><p>声明一个数组：</p><p>int a[];//指定数据类型</p><p>int []a;</p><p>int a[]=new int[4]//声明的同时分配空间</p><p>int a[]=new int[]{1,6,4,10}//声明的同时分配空间并赋值</p><p>int a[]={1,6,4,10}//声明的同时分配空间并赋值</p></li><li><p>二维数组</p><ul><li><p>声明</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">int</span> a [][]=&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;&#125;</span><br><span class="line">   a.length=<span class="number">3</span></span><br><span class="line">a[<span class="number">0</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">   a[<span class="number">0</span>].length=<span class="number">1</span></span><br></pre></td></tr></table></figure></li></ul></li></ol><ul><li><p>输出：</p>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">int</span> a[][]=<span class="keyword">new</span> <span class="keyword">int</span> [<span class="number">3</span>] [];</span><br><span class="line">   a[<span class="number">0</span>]=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">a[<span class="number">1</span>]=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>];</span><br><span class="line">   a[<span class="number">2</span>]=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">   以上都属于开辟空间</span><br><span class="line"> 赋值: a[<span class="number">0</span>] [<span class="number">0</span>]=<span class="number">1</span>;</span><br></pre></td></tr></table></figure></li></ul><h3 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a>进制转换</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">二进制转十进制</span><br><span class="line">Integer.parseInt(&quot;0110&quot;, 2);</span><br><span class="line"></span><br><span class="line">八进制转十进制</span><br><span class="line">Integer.parseInt(&quot;17&quot;, 8);</span><br><span class="line"></span><br><span class="line">十六进制转十进制</span><br><span class="line">Integer.parseInt(&quot;17&quot;, 16);</span><br><span class="line"></span><br><span class="line">十进制转成二进制</span><br><span class="line">Integer.toBinaryString(int i);</span><br><span class="line"></span><br><span class="line">十进制转成八进制</span><br><span class="line">Integer.toOctalString(int i);</span><br><span class="line"></span><br><span class="line">十进制转成十六进制</span><br><span class="line">Integer.toHexString(int i);</span><br></pre></td></tr></table></figure><h3 id="获取随机数"><a href="#获取随机数" class="headerlink" title="获取随机数"></a>获取随机数</h3><ol><li><p>方法一<br>(数据类型)(最小值+Math.random()<em>(最大值-最小值+1))<br>例:<br>(int)(1+Math.random()</em>(10-1+1))<br>从1到10的int型随数</p></li><li><p>方法二<br>获得随机数<br>for (int i=0;i&lt;30;i++)<br>{System.out.println((int)(1+Math.random()<em>10));}<br>(int)(1+Math.random()</em>10)<br>通过java.Math包的random方法得到1-10的int随机数<br>公式是:最小值---最大值（整数）的随机数<br>（类型）最小值+Math.random()*最大值</p></li><li><p>方法三<br>Random ra =new Random();<br>for (int i=0;i&lt;30;i++)<br>{System.out.println(ra.nextInt(10)+1);}<br>通过java.util包中的Random类的nextInt方法来得到1-10的int随机数</p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;方法&quot;&gt;&lt;a href=&quot;#方法&quot; class=&quot;headerlink&quot; title=&quot;方法&quot;&gt;&lt;/a&gt;方法&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;定义：方法就是一段用来完成特定功能的代码片段，类似于其它语言的函数。方法用于定义该类或该类的实例的行为特征和功能实现。 方
      
    
    </summary>
    
      <category term="javase" scheme="https://theme-next.org/categories/javase/"/>
    
    
      <category term="javase" scheme="https://theme-next.org/tags/javase/"/>
    
  </entry>
  
  <entry>
    <title>Java基础知识（一）</title>
    <link href="https://theme-next.org/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>https://theme-next.org/Java基础知识（一）/</id>
    <published>2019-08-04T06:07:43.000Z</published>
    <updated>2019-08-05T10:59:33.544Z</updated>
    
    <content type="html"><![CDATA[<h2 id="java简介"><a href="#java简介" class="headerlink" title="java简介"></a>java简介</h2><ul><li><p>界面：HTML CSS JAVASCRIPT JQUERY BOOTSTRAP VUE</p></li><li><p>服务器端技术：JAVA JAVAWEB 数据库（mysql oracle） </p></li><li><p>JAVA:在大家要开发的项目中是一种服务器端技术，完成业务逻辑的处理，比如验证用户名密码是否正确。</p></li><li><p>B/S :浏览器/服务器,一种项目结构</p></li><li><p>JAVA之父 JAMES GOSLING</p></li><li><p>HOTJAVA</p></li><li><p>根据开发项目类型JAVA 分为三种类型：</p><p>JAVASE :标准版 桌面应用程序<br>JAVAEE :企业版 开发B/S结构的项目<br>JAVAME ：小型版 嵌入式 </p></li></ul><h2 id="一般的高级语言的运行过程"><a href="#一般的高级语言的运行过程" class="headerlink" title="一般的高级语言的运行过程"></a>一般的高级语言的运行过程</h2><ul><li><p>.c /.cpp 源代码————&gt;编译----&gt;.exe可执行程序（针对特定操作系统）</p></li><li><p>.java-----&gt;编译-----&gt;.class(字节码文件，在操作系统不能直接运行，可以跨平台)------&gt;解释（不同平台有不同的解释器JVM Java虚拟机）----&gt;看到程序的运行结果</p></li></ul><h2 id="JVM：JAVA虚拟机"><a href="#JVM：JAVA虚拟机" class="headerlink" title="JVM：JAVA虚拟机"></a>JVM：JAVA虚拟机</h2><ul><li><p>解释字节码程序</p></li><li><p>管理Java程序在运行过程所占用的内存空间</p></li><li><p>JRE：Java运行环境</p></li><li><p>JRE（JVM是其一部分）</p></li></ul><h2 id="JDK：JAVA开发工具包"><a href="#JDK：JAVA开发工具包" class="headerlink" title="JDK：JAVA开发工具包"></a>JDK：JAVA开发工具包</h2><ol><li>bin目录：存放可执行文件；</li><li>ib目录：存放Java的类库文件；</li><li>include目录：存放用于本地方法的文件；</li><li>demo目录：存放演示程序；</li><li>jre目录：存放Java运行环境文件；</li></ol><h2 id="学会使用Java-API文档"><a href="#学会使用Java-API文档" class="headerlink" title="学会使用Java API文档"></a>学会使用Java API文档</h2><ul><li>Java中已经定义好的类、接口数不胜数，不可能完完全全把这些类及其这些类的方法记住。但API文档能够帮助解决这样的问题。在学习Java的过程中和别人交流是很重要的，有助于提高自己的技术知识。</li><li>Java API文档是一种非常有用的文档，描述许多Java的内置功能，其中包含类、包、接口等帮助。</li></ul><h2 id="Java数据结构"><a href="#Java数据结构" class="headerlink" title="Java数据结构"></a>Java数据结构</h2><ul><li><p>标识符命名规则：</p><p>  1.类名称（首字母大写）<br>  2.方法名称<br>  3.变量名称（一般首字母小写）字母、_、$ 双单词采用驼峰法</p></li></ul><h2 id="八种基本数据类型"><a href="#八种基本数据类型" class="headerlink" title="八种基本数据类型"></a>八种基本数据类型</h2><ul><li><p>整数型：<br>   byte（1字节）-128〜127</p><p>   short（2）   -2^15〜2^15-1 -32768〜32767</p><p>   int（4）      21 4748 3647//java中任何整数默认int型</p><p>   long（8字节） //d=214748xxxl 超过int型最大值要加l</p></li><li><p>浮点型：<br>   float e=3.14f （4字节）  //浮点数不能做精确运算</p><p>   double f=3.14 （8字节）</p></li><li><p>字符型：<br>   char j=&#39;中&#39;; （2字节）0〜65536//单引号只能且放一个字符（没有符号位）可以表示一个汉字</p></li><li><p>波尔型：<br>   Boolean（1字节） //变量能表示ture false</p></li></ul><p><strong>字符串</strong>数据类型：<br>    不属于8种基本类型例如 String s=&quot;abc&quot; abc是字符串 s.length=3</p><h2 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h2><ul><li><p>强制类型转换<br>大数据向小数据放  // short d=128;  错误方式<br>小数向整数放          //byte  c=(byte)d;正确方式<br>转换过程中都可能发生精度损失，因为转换过程中采用的原理是高位截断，   剩下的位数可能表示的数字跟原来就不一致了。</p><pre><code>short s=1;s+=1; //等价于 s=(short)(s+1) 需要强制转换</code></pre></li><li><p>精度损失：<br>以下情况可能会发生精度损失，因为等号右边按照Int型运算，不够存放算术运算结果<br>//        long a=24<em>24</em>60<em>1000</em>1000;<br>//        long a=24<em>24</em>60<em>1000</em>1000l;</p></li><li><p>自动提升转换</p><p>1.可以将一个char型变量赋值给int型或者long型，不能byte和short<br>2.不能将一个整型的变量赋值给char<br>3.可以将一个整型的字面量赋值给char (0-65535)<br>a+1&lt;a 在高位截短的情况下可能发生<br>4.常量 只能赋一次值<br> 例：final int a=10;</p></li></ul><h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><ol><li><p>算数运算符<br>%取余<br>++自加 // <strong>a++先参与后自加 ++a先自加后参与</strong><br>--自减</p></li><li><p>关系运算符<br>&lt; &gt; &lt;= &gt;= == !=</p></li><li><p>逻辑运算符<br> &amp;&amp;  与  (&quot;A&amp;&amp;B&quot; A部分为false则B部分不执行输出false)<br> ||  或(&quot;A||B&quot; A部分为ture则B部分不执行输出ture)<br> !（op1） 非（一元运算符 包括++ --）<br>&amp; 、|(也是逻辑与和逻辑或，不存在短路效应)</p></li><li><p>位运算符<br>位运算符用来对二进制数进行测试、置位或移位等操作，操作数只能为整型或字符型数据<br>〜a //按位取反<br>a&amp;b<br>a|b<br>a^b<br>a&gt;&gt;2   A左移2位<br>A&lt;&lt;2   A右移2位<br>A &gt;&gt;&gt;3 A无符号右移3位<br>（注意 赋值运算符 =和条件运算符max=a&gt;b?a:b;）<br>注意：0b10 表示十进制2<br>   010 表示十进制8<br>   0x10 表示十进制16</p></li></ol><h2 id="Java控制语句"><a href="#Java控制语句" class="headerlink" title="Java控制语句"></a>Java控制语句</h2><ul><li><p>多重if 结构</p><p>判断某个数是否落在某个区间</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Scanner sc = <span class="keyword">new</span> Scanner(System.in); <span class="comment">// 从控制台输入</span></span><br><span class="line">    <span class="keyword">int</span> jf = sc.nextInt();</span><br><span class="line">    <span class="keyword">if</span> (jf &lt; <span class="number">2000</span>)</span><br><span class="line">        System.out.println(<span class="string">"0.9折"</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (jf &gt;= <span class="number">2000</span> &amp;&amp; jf &lt; <span class="number">4000</span>)</span><br><span class="line">        System.out.println(<span class="string">"0.8折"</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (jf &gt;= <span class="number">4000</span> &amp;&amp; jf &lt; <span class="number">8000</span>)</span><br><span class="line">        System.out.println(<span class="string">"0.7折"</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        System.out.println(<span class="string">"0.6折"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Switch</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Switch（表达式）&#123;</span><br><span class="line"><span class="keyword">case</span> 常量<span class="number">1</span>:</span><br><span class="line">     语句<span class="comment">//</span></span><br><span class="line">          <span class="keyword">break</span>；</span><br><span class="line"><span class="keyword">case</span> 常量<span class="number">2</span>:</span><br><span class="line">    语句<span class="comment">//</span></span><br><span class="line">     <span class="keyword">break</span>；</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">   语句<span class="comment">//</span></span><br></pre></td></tr></table></figure><ul><li><p>while</p><p>while(布尔ture/false表达式) //循环条件，只要表达式为ture就一直执行下去</p><p>   while(answer.equals(&quot;y&quot;)){</p><pre><code>  syso(&quot;早上。。中午。。晚上。。&quot;)；  syso(&quot;表演的怎么样？请回答（y/n）:&quot;);  answer=input.next(); //循环输入回答}</code></pre><p>   syso(&quot;圆满完成！&quot;)//只有当回答是y 时才跳出循环</p></li><li><p>循环结构do while</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">循环操作                        <span class="comment">//至少执行一次操作</span></span><br><span class="line">&#125;<span class="keyword">while</span>(布尔ture/<span class="keyword">false</span>表达式)；  <span class="comment">//循环条件，只要表达式为ture就一直执行</span></span><br></pre></td></tr></table></figure><ul><li>for循环</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">   初始化；布尔表达式；更新</span><br><span class="line"> <span class="keyword">for</span>  (<span class="keyword">int</span>=<span class="number">0</span>;   i&lt;<span class="number">100</span>;   i++)&#123;</span><br><span class="line">    sysyo(<span class="string">"我最棒"</span>)；<span class="comment">//循环体</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>（；；）&#123;</span><br><span class="line"> <span class="keyword">if</span>（布尔表达式）&#123;</span><br><span class="line">  <span class="keyword">break</span>/<span class="keyword">continue</span>；</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>最先执行初始化。可以声明一种类型，但可以初始化一个或多个循环控制变量，也可以是空语句。</li><li>然后检测布尔表达式。ture循环体被执行，false循环体终止，开始执行循环体后面的语句。</li><li>执行一次循环后，更新循环控制变量。</li><li>再次检测布尔表达式。执行上面的过程。</li></ol><ul><li>嵌套for循环</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">lest2</span><span class="params">()</span></span>&#123;</span><br><span class="line">   Scanner sc=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">   System.out.println(<span class="string">"请输入行数n"</span>);</span><br><span class="line">   <span class="keyword">int</span> n=sc.nextInt();</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;n; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n-i-<span class="number">1</span>; j++) &#123;</span><br><span class="line">    System.out.print(<span class="string">" "</span>);  <span class="comment">// 不加ln默认不换行！！</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>*i+<span class="number">1</span>;j++) &#123;</span><br><span class="line">System.out.print(<span class="string">"*"</span>);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">""</span>);</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;java简介&quot;&gt;&lt;a href=&quot;#java简介&quot; class=&quot;headerlink&quot; title=&quot;java简介&quot;&gt;&lt;/a&gt;java简介&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;界面：HTML CSS JAVASCRIPT JQUERY BOOTSTRAP VUE&lt;/
      
    
    </summary>
    
      <category term="javase" scheme="https://theme-next.org/categories/javase/"/>
    
    
      <category term="javase" scheme="https://theme-next.org/tags/javase/"/>
    
  </entry>
  
  <entry>
    <title>博客美化</title>
    <link href="https://theme-next.org/%E5%8D%9A%E5%AE%A2%E7%BE%8E%E5%8C%96/"/>
    <id>https://theme-next.org/博客美化/</id>
    <published>2019-07-30T15:59:33.000Z</published>
    <updated>2019-08-01T15:51:47.099Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p><strong>NexT主题美化</strong></p></blockquote>            <h2 id="☑️-NexT-v7-2-0-自带功能集合"><a href="#☑️-NexT-v7-2-0-自带功能集合" class="headerlink" title="☑️  NexT.v7.2.0 自带功能集合"></a>☑️  NexT.v7.2.0 自带功能集合</h2><p> 1️⃣ <a href="https://github.com/theme-next/theme-next.org" target="_blank" rel="noopener">NexT网站配置源码</a> ：主要看站点配置文件<code>_config.yml</code></p><p> 2️⃣ <a href="https://github.com/theme-next/theme-next.org" target="_blank" rel="noopener">NexT主题配置源码</a>：主要看主题配置文件<code>_config.yml</code></p><p> 3️⃣<a href="https://theme-next.org/docs/">Next主题官方博客</a>:  绝大部分配置这里都可以找到</p><p> ❗️ 本博客具体实现功能如下：</p><ol><li><p>设置站点名称/昵称/简介</p></li><li><p>设置菜单<code>menu</code></p></li><li><p>设置头像<code>avatar</code></p></li><li><p>博客评论功能<code>valine</code>,需注册<a href="https://leancloud.cn" target="_blank" rel="noopener">leancloud</a></p></li><li><p>设置社交链接&amp;图标<code>social</code>&amp; <code>social_icons</code> </p><p>图标大全：<a href="https://link.zhihu.com/?target=http%3A//fontawesome.dashgame.com/" target="_blank" rel="noopener">Font Awesome</a></p></li><li><p>设置网站图标<code>favicon</code>,把头像设置成.png文件放到image文件夹下，在代码里替换掉image/后面的XXXX.png；logo.svg也可以用png替换（本人测试成功）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">favicon：</span><br><span class="line">  small：/ images / favicon-<span class="number">16</span>x16-next.png</span><br><span class="line">  medium：/images/favicon-<span class="number">32</span>x32-next.png</span><br><span class="line">  apple_touch_icon：/images/apple-touch-icon-next.png</span><br><span class="line">  safari_pinned_tab：/images/logo.svg</span><br><span class="line">  ＃ ANDROID_MANIFEST：/images/manifest.json</span><br><span class="line">  ＃ ms_browserconfig：/images/browserconfig.xml</span><br></pre></td></tr></table></figure></li><li><p>增加RSS订阅功能，详见3️⃣</p></li><li><p>减少两侧留白，详见3️⃣</p></li><li><p>阅读百分比，详见3️⃣</p></li><li><p>访客数和访问量统计busuanzi (不准确，我没弄)</p></li><li><p>底部是否显示hexo /NexT 版本号 和 “驱动支持”，详见3️⃣</p></li><li><p>Copyright 后面的❤️修改 增加动态设置和颜色设置，详见3️⃣</p></li><li><p>显示右上GitHub标识<code>github_banner</code></p></li><li><p>代码页面增加copy按钮，详见3️⃣</p></li><li><p>在标签页显示标签云 <code>tagcloud</code></p></li><li><p><strong>本地搜索</strong>  ，详见3️⃣</p></li><li><p>图床<a href="https://zhuanlan.zhihu.com/p/35270383" target="_blank" rel="noopener">盘点一下免费好用的图床</a>  （我还没用）</p></li><li><p>友情链接</p><p>打开 <code>themes/next/_config.yml</code> 文件,搜索关键字 <code>Blog rolls</code></p></li><li><p>博文置顶<a href="http://wangwlj.com/2018/01/09/blog_pin_post/" target="_blank" rel="noopener">Hexo博客彻底解决置顶问题</a> （我还没做）</p></li></ol><h2 id="❌-删除部分"><a href="#❌-删除部分" class="headerlink" title="❌ 删除部分"></a>❌ 删除部分</h2><ol><li><p>删除在线聊天功能daoVoice</p></li><li><p>删除文章阴影和动态背景canvas</p><p>理由：太占资源了而且并不实用(包括看板娘/鼠标点击效果/爆炸效果/内插音乐播放器等)不建议设置。</p></li></ol><h2 id="🆕-新功能"><a href="#🆕-新功能" class="headerlink" title="🆕 新功能"></a>🆕 新功能</h2><p>待发掘...</p><hr><p>本文为原创内容，转载请注明出处。🙏</p><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;&lt;strong&gt;NexT主题美化&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;            

&lt;h2 id=&quot;☑️-NexT-v7-2-0-自带功能集合&quot;&gt;&lt;a href=&quot;#☑
      
    
    </summary>
    
      <category term="技术分享" scheme="https://theme-next.org/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="NexT" scheme="https://theme-next.org/tags/NexT/"/>
    
      <category term="Blog" scheme="https://theme-next.org/tags/Blog/"/>
    
  </entry>
  
  <entry>
    <title>《白银时代》读后感</title>
    <link href="https://theme-next.org/%E6%96%87%E5%AD%A61/"/>
    <id>https://theme-next.org/文学1/</id>
    <published>2019-07-30T15:59:30.000Z</published>
    <updated>2019-07-31T16:28:08.366Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p> 人的一切痛苦，本质上都是对自己无能的愤怒。</p><p><strong>王小波</strong></p></blockquote><p>当代流传着这么一句话：<strong>“男生不可不读王小波，女生不可不读周国平。”</strong></p><p>王小波的作品以其文采和哲思赢得了无数读者的青睐，无论花季还是老年，都能从他的文字中收获智慧和超然。</p><p>王小波，中国当代学者、作家。代表作品有《黄金时代》《白银时代》《青铜时代》《黑铁时代》等。他仅创作的一部电影剧本《东宫西宫》，就获得了阿根廷国际电影节最佳编剧奖，并且入围1997年戛纳国际电影节。</p><p>在王小波的众多作品中，最吸引我的，就是他的《白银时代》。</p><p>翻开王小波《白银时代》的第一页，大学二年级热力学课老师正在课室上讲道：“将来的世界是银子的”。</p><p>自此，王小波便以一个独特的视角，在白银时代这个虚拟时空里作了一个关于未来世界的黑色预言。</p><p><strong>希腊神话里说，白银时代的人蒙神恩宠，终身不会衰老，也不会为生计所迫，他们没有痛苦没有忧虑，一直到死，相貌和心灵都像儿童。死掉以后，他们的幽灵还会在尘世上游荡。</strong></p><p>然而他所表现的白银世界却与神话中的乌托邦理想国大相径庭甚至是截然相反。</p><p>这是个在两个时空下同时进行的故事，一个是大二的学生时代，一个是2020年步入写作公司的职业时代。在作者眼里，它们都是白银时代，在同质化基础上构建起来的一个压抑自我和人性的强权社会。</p><p>这是个师生恋的故事。主人公被刻画成了一个受虐者，被倒挂，被钉十字架，如耶稣受难日那天般被折磨。我们在阅读之余，不禁惊叹王小波的世界，那深不见底的内涵。</p><p>王小波变幻莫测的文风，体现了现实对人的折磨，但不苦闷，也不压抑，自然流畅的文字为人们解读了现实中不可言喻的道理。</p><p>在故事中，有一句话不断被重复——“世界是银色的”。我们可以想象一下，整个世界都是灰蒙蒙的银色，看不到未来，主人公在银色的世界里被镀成了一个银色的雕塑，压抑、沉闷。</p><p>他的白银时代一些人说看不懂，一会儿是“我”坐在写字楼里写文章，一会儿又回到了师生恋，王小波的文章总是在这虚虚实实真真假假中，把读者绕进去。</p><hr><p>本文内容为转载，感谢阅读。🙏</p><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt; 人的一切痛苦，本质上都是对自己无能的愤怒。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;王小波&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;当代流传着这么一句话：&lt;strong&gt;“男生不可不读
      
    
    </summary>
    
      <category term="文学分享" scheme="https://theme-next.org/categories/%E6%96%87%E5%AD%A6%E5%88%86%E4%BA%AB/"/>
    
    
  </entry>
  
  <entry>
    <title>处女篇</title>
    <link href="https://theme-next.org/%E5%A4%84%E5%A5%B3%E7%AF%87/"/>
    <id>https://theme-next.org/处女篇/</id>
    <published>2019-07-27T19:00:19.000Z</published>
    <updated>2019-07-31T18:09:01.077Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>养成写博客的习惯</p><p> 这将使你的人生变的非常有意义！</p></blockquote><h2 id="❓-为什么创建个人博客"><a href="#❓-为什么创建个人博客" class="headerlink" title="❓ 为什么创建个人博客"></a>❓ 为什么创建个人博客</h2><p>Record：</p><ul><li>记录下自己的学习过程及心得</li><li>记录让人自律，自律让人自信</li><li>记录是对自己努力的一种认可</li></ul><p>Share：</p><ul><li>一名优秀的程序员必将具备开源精神</li><li>个人的工作与学习过程遇到过很多问题也是通过search blogs 解决的</li><li>个人经历与经验分享给朋友未尝不是一件美事</li></ul><p>Exchange：</p><ul><li>My blogs should 具有讨论价值</li><li>文章应该具有思辨性</li><li>认识更多的小伙伴</li><li>交流中成长</li></ul><p>Freedom：</p><ul><li>远离鱼龙混杂的广告</li><li>浩瀚重复的blog资源</li><li>静下心回归写作本身</li><li>选择性汲取精华blog</li></ul><h2 id="🛠-怎样搭建个人博客"><a href="#🛠-怎样搭建个人博客" class="headerlink" title="🛠 怎样搭建个人博客"></a>🛠 怎样搭建个人博客</h2><ul><li>首先你需要一个GitHub账号</li><li>你需要在电脑安装git并且你需要熟悉一些DOS命令</li><li>在DOS窗口安装Hexo并使用NexT主题</li><li><a href="https://smartbeng.github.io/2017/03/26/blogFinish/" target="_blank" rel="noopener">最适合新手的 GitHub + Hexo 「大话」博客搭建教程</a></li><li><a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo 官网</a>：https://hexo.io/zh-cn/ 部署博客</li><li><a href="http://theme-next.iissnan.com/" target="_blank" rel="noopener">NexT 主题官网</a>：http://theme-next.iissnan.com/ 美化博客</li></ul><h2 id="✍🏻-如何经营个人博客"><a href="#✍🏻-如何经营个人博客" class="headerlink" title="✍🏻 如何经营个人博客"></a>✍🏻 如何经营个人博客</h2><ul><li>文章质量决定文章高度</li><li>简洁轻快的博客UI</li><li>优秀的用户体验</li><li>版权意识与推广意识</li></ul><hr><p>本文为原创内容，转载请注明出处，感谢您的阅读🙏</p><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;养成写博客的习惯&lt;/p&gt;
&lt;p&gt; 这将使你的人生变的非常有意义！&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;❓-为什么创建个人博客&quot;&gt;&lt;a href=&quot;#❓-为什么创建个人博客&quot; cla
      
    
    </summary>
    
      <category term="人生感悟" scheme="https://theme-next.org/categories/%E4%BA%BA%E7%94%9F%E6%84%9F%E6%82%9F/"/>
    
    
      <category term="life" scheme="https://theme-next.org/tags/life/"/>
    
      <category term="begin" scheme="https://theme-next.org/tags/begin/"/>
    
  </entry>
  
</feed>
